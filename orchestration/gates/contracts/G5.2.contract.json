{
  "gate": "G5.2",
  "name": "Design Fidelity Audit",
  "blocking": true,
  "description": "Validates that the implementation matches the design research specification â€” CSS tokens, typography, color palette, spacing, interactions, and data visualizations are compliant with DESIGN-RESEARCH.md and the invocation spec. Produces a fidelity audit artifact with structured pass/fail.",
  "required_outputs": {
    "all_of": [
      {
        "path": "{artifact_path}/DESIGN-RESEARCH.md",
        "description": "Design research must still exist (design source of truth)",
        "required": true
      }
    ],
    "any_of": [
      {
        "path": "{artifact_path}/research/G5.2-DESIGN-FIDELITY-AUDIT.md",
        "description": "Design fidelity audit report with structured header"
      },
      {
        "path": "{artifact_path}/G5.2-DESIGN-FIDELITY-AUDIT.md",
        "description": "Design fidelity audit report (essay root level)"
      }
    ]
  },
  "validations": [
    {
      "type": "file_exists",
      "target": "all_required",
      "description": "DESIGN-RESEARCH.md and implementation files must exist"
    },
    {
      "type": "file_exists",
      "target": "any_of",
      "description": "Design fidelity audit report must exist"
    },
    {
      "type": "not_contains",
      "target": "{artifact_path}/research/G5.2-DESIGN-FIDELITY-AUDIT.md",
      "pattern": "status: FAIL",
      "severity": "error",
      "description": "Design fidelity audit must not have FAIL status in frontmatter"
    }
  ],
  "notes": "G5.2 is the post-production design quality gate. The Design Research Implementation Auditor compares every CSS token, typography setting, color value, spacing value, animation timing, and data visualization against DESIGN-RESEARCH.md and the invocation spec. For data journalism essays, it also verifies visualization implementations (projections, interactivity, responsive behavior). The audit artifact must include a YAML frontmatter header per the Gate Accountability Standard. See orchestration/standards/gate-accountability.md."
}
