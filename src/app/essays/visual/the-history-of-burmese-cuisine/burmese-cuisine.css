/**
 * The History, Evolution, and Authenticity of Burmese Cuisine
 * Design System: "Golden Oil" (ဆီပြန်)
 * 
 * Visual identity derived from subject research:
 * - Primary materials: Clay pots, lacquerware, teak, bamboo, palm leaves
 * - Historical associations: Turmeric gold, lacquerware red, ngapi brown
 * - Motifs: Fermentation vessels, oil surfaces, rice patterns
 */

/* ============================================================================
   CSS CUSTOM PROPERTIES - DESIGN TOKENS
   ============================================================================ */

.burmese-cuisine {
  /* Primary Palette — "Golden Oil" */
  --turmeric-gold: #E3A857;
  --lacquerware-red: #8B2500;
  --ngapi-brown: #4A3728;
  --tamarind-dark: #2D1F14;
  --jasmine-rice: #F5F1E6;
  
  /* Secondary Palette — "Market Morning" */
  --banana-blossom-pink: #D4A5A5;
  --shan-tea-green: #7A9E7E;
  --irrawaddy-blue: #4A6FA5;
  --chili-red: #C41E3A;
  --palm-sugar-brown: #8B4513;
  
  /* Semantic Colors */
  --color-bg: var(--jasmine-rice);
  --color-bg-dark: var(--tamarind-dark);
  --color-bg-section: var(--ngapi-brown);
  --color-text: var(--tamarind-dark);
  --color-text-light: var(--jasmine-rice);
  --color-text-muted: #6B5B4F;
  --color-accent: var(--turmeric-gold);
  --color-accent-secondary: var(--lacquerware-red);
  
  /* Typography */
  --font-display: 'Playfair Display', Georgia, serif;
  --font-body: 'Source Sans Pro', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-burmese: 'Padauk', 'Noto Sans Myanmar', sans-serif;
  
  /* Type Scale (Mobile-first) */
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1.125rem;
  --text-lg: 1.25rem;
  --text-xl: 1.5rem;
  --text-2xl: 1.875rem;
  --text-3xl: 2.25rem;
  --text-4xl: 3rem;
  --text-5xl: 3.5rem;
  
  /* Spacing */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  --space-3xl: 4rem;
  --space-4xl: 6rem;
  
  /* Animation Timing */
  --duration-fast: 150ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  --duration-reveal: 800ms;
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
  
  /* Layout */
  --max-width-content: 720px;
  --max-width-wide: 1200px;
  --header-height: 60px;
  
  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(45, 31, 20, 0.1);
  --shadow-md: 0 4px 12px rgba(45, 31, 20, 0.15);
  --shadow-lg: 0 8px 24px rgba(45, 31, 20, 0.2);
  
  /* Borders */
  --border-radius-sm: 4px;
  --border-radius-md: 8px;
  --border-radius-lg: 16px;
  --border-radius-full: 9999px;
}

/* Desktop adjustments */
@media (min-width: 768px) {
  .burmese-cuisine {
    --text-base: 1.25rem;
    --text-lg: 1.5rem;
    --text-xl: 1.75rem;
    --text-2xl: 2.25rem;
    --text-3xl: 2.75rem;
    --text-4xl: 3.5rem;
    --text-5xl: 4.5rem;
    --duration-normal: 400ms;
    --duration-slow: 600ms;
  }
}

/* ============================================================================
   BASE STYLES
   ============================================================================ */

.burmese-cuisine {
  background-color: var(--color-bg);
  color: var(--color-text);
  font-family: var(--font-body);
  font-size: var(--text-base);
  line-height: 1.6;
  min-height: 100dvh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Burmese Script Styling */
.burmese-script {
  font-family: var(--font-burmese);
  line-height: 1.4;
}

.burmese-title {
  font-family: var(--font-burmese);
  font-weight: 600;
  font-size: var(--text-2xl);
  color: var(--turmeric-gold);
}

.burmese-quote {
  font-family: var(--font-burmese);
  font-size: var(--text-xl);
  font-style: normal;
  line-height: 1.5;
}

/* Romanization (follows Burmese) */
.romanization {
  font-family: var(--font-body);
  font-style: italic;
  font-size: 0.9em;
  color: var(--color-text-muted);
  margin-left: var(--space-sm);
}

/* ============================================================================
   TYPOGRAPHY
   ============================================================================ */

.burmese-cuisine h1,
.burmese-cuisine h2,
.burmese-cuisine h3 {
  font-family: var(--font-display);
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.02em;
}

.burmese-cuisine h1 {
  font-size: var(--text-4xl);
}

.burmese-cuisine h2 {
  font-size: var(--text-3xl);
}

.burmese-cuisine h3 {
  font-size: var(--text-2xl);
}

.burmese-cuisine p {
  margin-bottom: var(--space-lg);
}

.burmese-cuisine a {
  color: var(--turmeric-gold);
  text-decoration: underline;
  text-underline-offset: 2px;
  transition: color var(--duration-fast) ease;
}

.burmese-cuisine a:hover {
  color: var(--lacquerware-red);
}

/* ============================================================================
   HERO SECTION
   ============================================================================ */

.hero {
  position: relative;
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: var(--space-xl);
  padding-top: calc(var(--header-height) + var(--space-xl));
  color: var(--color-text-light);
  overflow: hidden;
}

/* Hero Background Image Layer */
.hero-background {
  position: absolute;
  inset: 0;
  z-index: 0;
}

.hero-background-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  filter: brightness(0.4) saturate(1.2);
  transform: scale(1.05);
  transition: transform 20s ease-out;
}

.hero:hover .hero-background-image {
  transform: scale(1.0);
}

/* Hero Gradient Overlay */
.hero-background::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    rgba(45, 31, 20, 0.7) 0%,
    rgba(74, 55, 40, 0.8) 50%,
    rgba(45, 31, 20, 0.95) 100%
  );
  pointer-events: none;
}

/* Noise texture overlay */
.hero::before {
  content: '';
  position: absolute;
  inset: 0;
  z-index: 1;
  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.04;
  pointer-events: none;
}

/* CRITICAL: Override global CSS from globals.css */
.burmese-cuisine .hero-content {
  position: relative;
  z-index: 2;
  max-width: 800px;
  /* Override globals.css grid layout */
  display: flex;
  flex-direction: column;
  align-items: center;
  grid-template-columns: unset;
  gap: unset;
}

/* Hero Entry Animations */
.hero-badge {
  display: inline-block;
  padding: var(--space-xs) var(--space-md);
  background: var(--turmeric-gold);
  color: var(--tamarind-dark);
  font-size: var(--text-sm);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  border-radius: var(--border-radius-full);
  margin-bottom: var(--space-lg);
  /* Entry animation */
  opacity: 0;
  transform: translateY(-20px);
  animation: hero-badge-enter 0.8s var(--ease-out) 0.2s forwards;
}

@keyframes hero-badge-enter {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.hero-title {
  font-size: var(--text-5xl);
  font-weight: 700;
  margin-bottom: var(--space-md);
  text-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
  /* Entry animation */
  opacity: 0;
  transform: translateY(30px);
  animation: hero-title-enter 1s var(--ease-out) 0.4s forwards;
}

@keyframes hero-title-enter {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Oil Shimmer Effect on Title */
.hero-title-shimmer {
  background: linear-gradient(
    135deg,
    var(--jasmine-rice) 0%,
    var(--turmeric-gold) 25%,
    var(--jasmine-rice) 50%,
    var(--turmeric-gold) 75%,
    var(--jasmine-rice) 100%
  );
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: hero-shimmer 6s ease-in-out infinite;
}

@keyframes hero-shimmer {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.hero-title-burmese {
  display: block;
  font-family: var(--font-burmese);
  font-size: var(--text-3xl);
  font-weight: 400;
  color: var(--turmeric-gold);
  margin-top: var(--space-sm);
  text-shadow: 0 2px 20px rgba(227, 168, 87, 0.3);
  /* Entry animation */
  opacity: 0;
  animation: hero-burmese-enter 1s var(--ease-out) 0.7s forwards;
}

@keyframes hero-burmese-enter {
  to {
    opacity: 1;
  }
}

.hero-subtitle {
  font-size: var(--text-xl);
  font-weight: 300;
  opacity: 0;
  max-width: 600px;
  margin: 0 auto var(--space-xl);
  animation: hero-subtitle-enter 1s var(--ease-out) 0.9s forwards;
}

@keyframes hero-subtitle-enter {
  to {
    opacity: 0.9;
  }
}

/* Featured Dish Image */
.hero-dish {
  position: relative;
  margin-top: var(--space-xl);
  opacity: 0;
  transform: translateY(40px) scale(0.95);
  animation: hero-dish-enter 1.2s var(--ease-out) 1.1s forwards;
}

@keyframes hero-dish-enter {
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.hero-dish-image {
  width: 280px;
  height: 280px;
  border-radius: 50%;
  object-fit: cover;
  border: 4px solid var(--turmeric-gold);
  box-shadow: 
    0 20px 60px rgba(0, 0, 0, 0.4),
    0 0 0 8px rgba(227, 168, 87, 0.1),
    0 0 80px rgba(227, 168, 87, 0.15);
}

@media (min-width: 768px) {
  .hero-dish-image {
    width: 350px;
    height: 350px;
  }
}

/* Steam Effect */
.hero-steam {
  position: absolute;
  top: -20px;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  height: 60px;
  pointer-events: none;
}

.steam-particle {
  position: absolute;
  width: 30px;
  height: 30px;
  background: radial-gradient(ellipse, rgba(255,255,255,0.6) 0%, transparent 70%);
  border-radius: 50%;
  opacity: 0;
  animation: steam-rise 4s ease-out infinite;
}

.steam-particle:nth-child(1) { left: 30%; animation-delay: 0s; }
.steam-particle:nth-child(2) { left: 45%; animation-delay: 1.2s; }
.steam-particle:nth-child(3) { left: 60%; animation-delay: 0.6s; }
.steam-particle:nth-child(4) { left: 38%; animation-delay: 2s; }
.steam-particle:nth-child(5) { left: 55%; animation-delay: 1.8s; }

@keyframes steam-rise {
  0% {
    opacity: 0;
    transform: translateY(0) scale(0.8);
  }
  20% {
    opacity: 0.5;
  }
  100% {
    opacity: 0;
    transform: translateY(-80px) scale(1.5);
  }
}

/* Scroll Indicator */
.hero-scroll-indicator {
  position: absolute;
  bottom: var(--space-2xl);
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-sm);
  color: var(--turmeric-gold);
  font-size: var(--text-sm);
  opacity: 0;
  animation: 
    scroll-indicator-enter 0.8s var(--ease-out) 1.5s forwards,
    bounce 2s ease-in-out 2.3s infinite;
}

@keyframes scroll-indicator-enter {
  to {
    opacity: 1;
  }
}

@keyframes bounce {
  0%, 100% { transform: translateX(-50%) translateY(0); }
  50% { transform: translateX(-50%) translateY(8px); }
}

/* Ambient Particles */
.hero-particles {
  position: absolute;
  inset: 0;
  z-index: 1;
  overflow: hidden;
  pointer-events: none;
}

.hero-particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: var(--turmeric-gold);
  border-radius: 50%;
  opacity: 0;
  animation: float-particle 15s linear infinite;
}

.hero-particle:nth-child(1) { left: 10%; animation-delay: 0s; }
.hero-particle:nth-child(2) { left: 25%; animation-delay: 3s; }
.hero-particle:nth-child(3) { left: 40%; animation-delay: 6s; }
.hero-particle:nth-child(4) { left: 55%; animation-delay: 9s; }
.hero-particle:nth-child(5) { left: 70%; animation-delay: 2s; }
.hero-particle:nth-child(6) { left: 85%; animation-delay: 5s; }
.hero-particle:nth-child(7) { left: 15%; animation-delay: 8s; }
.hero-particle:nth-child(8) { left: 60%; animation-delay: 11s; }

@keyframes float-particle {
  0% {
    opacity: 0;
    transform: translateY(100vh) scale(0);
  }
  10% {
    opacity: 0.4;
    transform: translateY(80vh) scale(1);
  }
  90% {
    opacity: 0.2;
  }
  100% {
    opacity: 0;
    transform: translateY(-10vh) scale(0.5);
  }
}

/* ============================================================================
   CHAPTER SECTIONS
   ============================================================================ */

.chapter {
  position: relative;
  min-height: 100dvh;
  padding: var(--space-3xl) var(--space-xl);
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.chapter-dark {
  background: var(--tamarind-dark);
  color: var(--color-text-light);
}

.chapter-light {
  background: var(--jasmine-rice);
  color: var(--color-text);
}

.chapter-accent {
  background: var(--ngapi-brown);
  color: var(--color-text-light);
}

.chapter-header {
  text-align: center;
  margin-bottom: var(--space-3xl);
}

.chapter-number {
  display: inline-block;
  width: 48px;
  height: 48px;
  line-height: 48px;
  background: var(--turmeric-gold);
  color: var(--tamarind-dark);
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 700;
  border-radius: 50%;
  margin-bottom: var(--space-md);
}

.chapter-title {
  margin-bottom: var(--space-sm);
}

.chapter-title-burmese {
  font-family: var(--font-burmese);
  font-size: var(--text-xl);
  color: var(--turmeric-gold);
  font-weight: 400;
}

.chapter-metaphor {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-style: italic;
  color: var(--banana-blossom-pink);
  max-width: 500px;
  margin: 0 auto;
}

.chapter-content {
  max-width: var(--max-width-content);
  margin: 0 auto;
}

/* ============================================================================
   FIGURE PROFILES
   ============================================================================ */

.figure-profile {
  display: flex;
  flex-direction: column;
  gap: var(--space-xl);
  padding: var(--space-2xl);
  background: rgba(255, 255, 255, 0.05);
  border-radius: var(--border-radius-lg);
  border-left: 4px solid var(--turmeric-gold);
  margin: var(--space-2xl) 0;
}

@media (min-width: 768px) {
  .figure-profile {
    flex-direction: row;
    align-items: flex-start;
  }
}

.figure-portrait {
  flex-shrink: 0;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid var(--turmeric-gold);
}

/* Placeholder portrait for contemporary figures without photos */
.figure-portrait-placeholder {
  flex-shrink: 0;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 3px solid var(--turmeric-gold);
  background: linear-gradient(
    135deg,
    var(--ngapi-brown) 0%,
    var(--tamarind-dark) 100%
  );
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
}

.figure-portrait-placeholder::before {
  content: '';
  position: absolute;
  width: 50px;
  height: 50px;
  background: var(--turmeric-gold);
  border-radius: 50%;
  top: 25%;
  opacity: 0.3;
}

.figure-portrait-placeholder::after {
  content: '';
  position: absolute;
  width: 80px;
  height: 60px;
  background: var(--turmeric-gold);
  border-radius: 50% 50% 0 0;
  bottom: 0;
  opacity: 0.3;
}

/* Decorative inner ring */
.figure-portrait-placeholder-inner {
  position: absolute;
  inset: 8px;
  border-radius: 50%;
  border: 1px dashed rgba(227, 168, 87, 0.4);
}

.figure-content {
  flex: 1;
}

.figure-name {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 700;
  margin-bottom: var(--space-xs);
}

.figure-name-burmese {
  font-family: var(--font-burmese);
  font-size: var(--text-lg);
  color: var(--turmeric-gold);
  margin-left: var(--space-sm);
}

.figure-role {
  font-size: var(--text-sm);
  color: var(--banana-blossom-pink);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: var(--space-md);
}

.figure-quote {
  position: relative;
  padding-left: var(--space-lg);
  margin-bottom: var(--space-md);
}

.figure-quote::before {
  content: '"';
  position: absolute;
  left: 0;
  top: -10px;
  font-family: var(--font-display);
  font-size: var(--text-4xl);
  color: var(--turmeric-gold);
  opacity: 0.5;
}

.figure-quote-burmese {
  font-family: var(--font-burmese);
  font-size: var(--text-lg);
  line-height: 1.5;
  margin-bottom: var(--space-sm);
}

.figure-quote-english {
  font-style: italic;
  color: var(--color-text-muted);
}

/* For composite figures - perspectives without quotation marks */
.figure-quote-english.figure-perspective {
  font-style: normal;
  color: var(--jasmine-rice);
  opacity: 0.9;
}

.quote-attribution {
  font-size: var(--text-sm);
  font-style: normal;
  color: var(--banana-blossom-pink);
  opacity: 0.7;
}

/* Diaspora perspective block (narrative, not quote) */
.diaspora-perspective {
  text-align: center;
  padding: var(--space-3xl) var(--space-xl);
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius-lg);
  margin: var(--space-2xl) 0;
}

.diaspora-perspective .perspective-burmese {
  font-size: var(--text-xl);
  color: var(--turmeric-gold);
  margin-bottom: var(--space-lg);
  line-height: 1.6;
}

.diaspora-perspective .perspective-english {
  font-size: var(--text-lg);
  font-style: italic;
  color: var(--jasmine-rice);
  max-width: 600px;
  margin: 0 auto;
  line-height: 1.7;
}

/* ============================================================================
   QUOTE MONUMENTS
   ============================================================================ */

.quote-monument {
  min-height: 80vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: var(--space-3xl) var(--space-xl);
  background: var(--tamarind-dark);
}

.quote-monument blockquote {
  max-width: 800px;
}

.quote-monument-text {
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  font-weight: 500;
  color: var(--jasmine-rice);
  line-height: 1.4;
  margin-bottom: var(--space-xl);
}

.quote-monument-text-burmese {
  font-family: var(--font-burmese);
  font-size: var(--text-2xl);
  color: var(--turmeric-gold);
  margin-bottom: var(--space-lg);
}

.quote-monument cite {
  font-size: var(--text-lg);
  color: var(--banana-blossom-pink);
  font-style: normal;
}

/* ============================================================================
   IMAGES & MEDIA
   ============================================================================ */

.full-bleed-image {
  position: relative;
  width: 100%;
  height: 70vh;
  min-height: 400px;
  overflow: hidden;
}

.full-bleed-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.full-bleed-image::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to bottom,
    transparent 60%,
    var(--tamarind-dark) 100%
  );
}

.image-caption {
  position: absolute;
  bottom: var(--space-xl);
  left: var(--space-xl);
  right: var(--space-xl);
  z-index: 1;
  color: var(--jasmine-rice);
  font-size: var(--text-sm);
}

.image-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-md);
  margin: var(--space-2xl) 0;
}

@media (min-width: 768px) {
  .image-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .image-grid-3 {
    grid-template-columns: repeat(3, 1fr);
  }
}

.image-grid img {
  width: 100%;
  height: 250px;
  object-fit: cover;
  border-radius: var(--border-radius-md);
  /* Stagger reveal animation */
  opacity: 0;
  transform: translateY(20px);
  transition: 
    opacity var(--duration-reveal) var(--ease-out),
    transform var(--duration-reveal) var(--ease-out);
}

/* Image grid stagger delays */
.image-grid.visible img:nth-child(1) { transition-delay: 0ms; }
.image-grid.visible img:nth-child(2) { transition-delay: 150ms; }
.image-grid.visible img:nth-child(3) { transition-delay: 300ms; }
.image-grid.visible img:nth-child(4) { transition-delay: 450ms; }

.image-grid.visible img {
  opacity: 1;
  transform: translateY(0);
}

/* ============================================================================
   SPLIT SCREEN LAYOUT
   ============================================================================ */

.split-screen {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

@media (min-width: 768px) {
  .split-screen {
    flex-direction: row;
  }
  
  .split-screen-reverse {
    flex-direction: row-reverse;
  }
}

.split-image {
  flex: 1;
  min-height: 50vh;
}

@media (min-width: 768px) {
  .split-image {
    min-height: 100vh;
    position: sticky;
    top: 0;
  }
}

.split-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.split-content {
  flex: 1;
  padding: var(--space-2xl);
  display: flex;
  flex-direction: column;
  justify-content: center;
}

@media (min-width: 768px) {
  .split-content {
    padding: var(--space-4xl);
  }
}

/* ============================================================================
   TIMELINE
   ============================================================================ */

.timeline {
  position: relative;
  padding-left: var(--space-2xl);
}

.timeline::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 2px;
  background: var(--turmeric-gold);
}

.timeline-item {
  position: relative;
  padding-bottom: var(--space-2xl);
}

.timeline-item::before {
  content: '';
  position: absolute;
  left: calc(-1 * var(--space-2xl) - 6px);
  top: 0;
  width: 14px;
  height: 14px;
  background: var(--turmeric-gold);
  border-radius: 50%;
}

.timeline-year {
  font-family: var(--font-display);
  font-size: var(--text-sm);
  font-weight: 700;
  color: var(--turmeric-gold);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: var(--space-sm);
}

/* ============================================================================
   PROGRESS BAR - THE FERMENTATION JAR
   ============================================================================ */

.progress-bar-container {
  position: fixed;
  right: var(--space-lg);
  top: 50%;
  transform: translateY(-50%);
  z-index: 100;
  display: none;
}

@media (min-width: 768px) {
  .progress-bar-container {
    display: block;
  }
}

.fermentation-jar {
  width: 40px;
  height: 120px;
  position: relative;
}

.fermentation-jar-outline {
  fill: none;
  stroke: var(--turmeric-gold);
  stroke-width: 2;
}

.fermentation-jar-fill {
  fill: var(--lacquerware-red);
  transition: height var(--duration-normal) var(--ease-out);
}

/* ============================================================================
   STICKY SCROLL PATTERN
   ============================================================================ */

.sticky-scroll-container {
  position: relative;
  display: flex;
  flex-direction: column;
}

@media (min-width: 768px) {
  .sticky-scroll-container {
    flex-direction: row;
  }
}

.sticky-element {
  flex: 1;
  position: sticky;
  top: var(--header-height);
  height: calc(100vh - var(--header-height));
  display: flex;
  align-items: center;
  justify-content: center;
}

.scroll-content {
  flex: 1;
}

.scroll-panel {
  min-height: 80vh;
  padding: var(--space-2xl);
  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* ============================================================================
   COMPARISON PANELS
   ============================================================================ */

.comparison-section {
  padding: var(--space-3xl) var(--space-xl);
}

.comparison-header {
  text-align: center;
  margin-bottom: var(--space-2xl);
}

.comparison-container {
  display: flex;
  flex-direction: column;
  gap: var(--space-lg);
  max-width: var(--max-width-wide);
  margin: 0 auto;
}

@media (min-width: 768px) {
  .comparison-container {
    flex-direction: row;
    align-items: stretch;
  }
}

.comparison-panel {
  flex: 1;
  padding: var(--space-xl);
  background: rgba(255, 255, 255, 0.05);
  border-radius: var(--border-radius-lg);
}

.comparison-panel.before {
  border-top: 4px solid var(--banana-blossom-pink);
}

.comparison-panel.after {
  border-top: 4px solid var(--turmeric-gold);
}

.comparison-divider {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-lg);
}

.divider-arrow {
  font-size: var(--text-2xl);
  color: var(--turmeric-gold);
}

/* ============================================================================
   DATA VISUALIZATION
   ============================================================================ */

.data-viz-section {
  padding: var(--space-3xl) var(--space-xl);
  text-align: center;
}

.stat-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-lg);
  max-width: 600px;
  margin: var(--space-2xl) auto;
}

@media (min-width: 768px) {
  .stat-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

.stat-item {
  padding: var(--space-lg);
}

.stat-value {
  font-family: var(--font-display);
  font-size: var(--text-4xl);
  font-weight: 700;
  color: var(--turmeric-gold);
  margin-bottom: var(--space-xs);
}

.stat-label {
  font-size: var(--text-sm);
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* ============================================================================
   MAP SECTION
   ============================================================================ */

.map-section {
  position: relative;
  min-height: 80vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-2xl);
}

.map-container {
  max-width: 600px;
  width: 100%;
}

.map-svg {
  width: 100%;
  height: auto;
}

.map-region {
  fill: var(--ngapi-brown);
  stroke: var(--turmeric-gold);
  stroke-width: 1;
  transition: fill var(--duration-normal) ease;
  cursor: pointer;
}

.map-region:hover,
.map-region.active {
  fill: var(--turmeric-gold);
}

.map-label {
  font-size: var(--text-sm);
  fill: var(--jasmine-rice);
  pointer-events: none;
}

/* ============================================================================
   CHAPTER 5: CROSSROADS KITCHEN - ENHANCED INTERACTIONS
   ============================================================================ */

/* --- Influence Map Container --- */
.crossroads-map-section {
  position: relative;
  padding: var(--space-4xl) 0;
  background: linear-gradient(
    180deg,
    transparent 0%,
    rgba(196, 161, 100, 0.05) 50%,
    transparent 100%
  );
  overflow: hidden;
}

.crossroads-map-section::before {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    radial-gradient(circle at 20% 30%, rgba(196, 161, 100, 0.1) 0%, transparent 30%),
    radial-gradient(circle at 80% 70%, rgba(196, 161, 100, 0.1) 0%, transparent 30%);
  pointer-events: none;
}

.crossroads-header {
  text-align: center;
  margin-bottom: var(--space-3xl);
}

.crossroads-header h2 {
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  color: var(--turmeric-gold);
  margin-bottom: var(--space-sm);
}

.crossroads-header .burmese-script {
  font-size: var(--text-xl);
  display: block;
  margin-bottom: var(--space-md);
}

.crossroads-header p {
  color: var(--color-text-muted);
  font-style: italic;
  max-width: 600px;
  margin: 0 auto;
}

/* --- Interactive Influence Arrows --- */
.influence-arrows-container {
  position: relative;
  width: 100%;
  max-width: 900px;
  margin: 0 auto;
  aspect-ratio: 4 / 3;
}

.influence-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 180px;
  height: 180px;
  border-radius: 50%;
  background: radial-gradient(circle, var(--turmeric-gold) 0%, var(--lacquerware-red) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  z-index: 10;
  box-shadow: 
    0 0 40px rgba(196, 161, 100, 0.4),
    0 0 80px rgba(196, 161, 100, 0.2);
  animation: centerPulse 4s ease-in-out infinite;
}

@keyframes centerPulse {
  0%, 100% { box-shadow: 0 0 40px rgba(196, 161, 100, 0.4), 0 0 80px rgba(196, 161, 100, 0.2); }
  50% { box-shadow: 0 0 60px rgba(196, 161, 100, 0.6), 0 0 100px rgba(196, 161, 100, 0.3); }
}

.influence-center span:first-child {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 700;
  color: var(--jasmine-rice);
}

.influence-center .burmese-script {
  font-size: var(--text-lg);
  color: rgba(255, 255, 255, 0.9);
}

/* Influence nodes positioned around center */
.influence-node {
  position: absolute;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.05);
  border: 2px solid var(--turmeric-gold);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  text-align: center;
  padding: var(--space-sm);
  transition: all var(--duration-normal) var(--ease-out);
  cursor: pointer;
  opacity: 0;
  transform: scale(0.8);
}

.influence-node.visible {
  opacity: 1;
  transform: scale(1);
}

.influence-node:hover {
  background: rgba(196, 161, 100, 0.2);
  transform: scale(1.1);
  z-index: 20;
}

.influence-node.india { top: 5%; left: 10%; }
.influence-node.china { top: 5%; right: 10%; }
.influence-node.thailand { bottom: 5%; right: 20%; }
.influence-node.mon { bottom: 5%; left: 20%; }
.influence-node.shan { top: 25%; right: 5%; }

.influence-node h4 {
  font-size: var(--text-sm);
  font-weight: 700;
  color: var(--turmeric-gold);
  margin-bottom: 2px;
}

.influence-node p {
  font-size: 10px;
  color: var(--color-text-muted);
  line-height: 1.2;
}

/* Animated arrows from nodes to center */
.influence-arrow {
  position: absolute;
  height: 3px;
  background: linear-gradient(90deg, var(--turmeric-gold) 0%, transparent 100%);
  transform-origin: left center;
  opacity: 0;
  animation: arrowFlow 2s ease-in-out infinite;
}

.influence-arrow.visible {
  opacity: 1;
}

.influence-arrow.india { top: 15%; left: 18%; width: 25%; transform: rotate(30deg); animation-delay: 0s; }
.influence-arrow.china { top: 15%; right: 18%; width: 25%; transform: rotate(150deg); animation-delay: 0.4s; }
.influence-arrow.thailand { bottom: 20%; right: 30%; width: 20%; transform: rotate(120deg); animation-delay: 0.8s; }
.influence-arrow.mon { bottom: 20%; left: 30%; width: 20%; transform: rotate(60deg); animation-delay: 1.2s; }
.influence-arrow.shan { top: 35%; right: 15%; width: 18%; transform: rotate(160deg); animation-delay: 1.6s; }

@keyframes arrowFlow {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}

/* --- Enhanced Tributary Cards --- */
.tributaries-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-xl);
  padding: var(--space-2xl);
  max-width: var(--max-width-wide);
  margin: 0 auto;
}

@media (min-width: 640px) {
  .tributaries-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .tributaries-grid {
    grid-template-columns: repeat(5, 1fr);
  }
}

.tributary-card {
  background: linear-gradient(145deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.02) 100%);
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  border: 1px solid rgba(196, 161, 100, 0.2);
  transition: all var(--duration-normal) var(--ease-out);
  opacity: 0;
  transform: translateY(30px);
}

.tributary-card.visible {
  opacity: 1;
  transform: translateY(0);
}

.tributary-card:hover {
  transform: translateY(-8px);
  border-color: var(--turmeric-gold);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

.tributary-card-image {
  width: 100%;
  aspect-ratio: 4 / 3;
  object-fit: cover;
}

.tributary-card-content {
  padding: var(--space-lg);
}

.tributary-card h4 {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  color: var(--turmeric-gold);
  margin-bottom: var(--space-xs);
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.tributary-flag {
  font-size: var(--text-xl);
}

.tributary-card .arrow-transform {
  color: var(--banana-blossom-pink);
  margin: var(--space-sm) 0;
  font-size: var(--text-xl);
}

.tributary-card .burmese-dish {
  font-weight: 700;
  color: var(--jasmine-rice);
}

.tributary-card .burmese-script {
  font-size: var(--text-sm);
  display: block;
  margin-top: var(--space-xs);
}

.tributary-card p {
  font-size: var(--text-sm);
  color: var(--color-text-muted);
  line-height: 1.5;
}

/* --- Ethnic Diversity Gallery --- */
.diversity-gallery {
  padding: var(--space-4xl) 0;
  background: linear-gradient(
    180deg,
    transparent 0%,
    rgba(74, 44, 42, 0.3) 50%,
    transparent 100%
  );
}

.diversity-header {
  text-align: center;
  margin-bottom: var(--space-2xl);
  padding: 0 var(--space-xl);
}

.diversity-header h3 {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  color: var(--jasmine-rice);
  margin-bottom: var(--space-sm);
}

.diversity-header p {
  color: var(--color-text-muted);
  max-width: 600px;
  margin: 0 auto;
}

.diversity-strip {
  display: flex;
  gap: var(--space-md);
  overflow-x: auto;
  padding: 0 var(--space-xl) var(--space-lg);
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}

.diversity-strip::-webkit-scrollbar {
  height: 6px;
}

.diversity-strip::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 3px;
}

.diversity-strip::-webkit-scrollbar-thumb {
  background: var(--turmeric-gold);
  border-radius: 3px;
}

.diversity-image-card {
  flex-shrink: 0;
  width: 300px;
  scroll-snap-align: start;
  position: relative;
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  opacity: 0;
  transform: translateX(30px);
  transition: all var(--duration-slow) var(--ease-out);
}

.diversity-image-card.visible {
  opacity: 1;
  transform: translateX(0);
}

.diversity-image-card img {
  width: 100%;
  height: 400px;
  object-fit: cover;
  transition: transform var(--duration-normal) var(--ease-out);
}

.diversity-image-card:hover img {
  transform: scale(1.05);
}

.diversity-image-caption {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: var(--space-lg);
  background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));
}

.diversity-image-caption h4 {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  color: var(--turmeric-gold);
  margin-bottom: var(--space-xs);
}

.diversity-image-caption p {
  font-size: var(--text-sm);
  color: var(--color-text-muted);
}

/* --- Food Transformation Comparisons --- */
.transformation-section {
  padding: var(--space-4xl) var(--space-xl);
}

.transformation-header {
  text-align: center;
  margin-bottom: var(--space-3xl);
}

.transformation-header h3 {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  color: var(--turmeric-gold);
  margin-bottom: var(--space-sm);
}

.transformation-grid {
  display: grid;
  gap: var(--space-2xl);
  max-width: var(--max-width-wide);
  margin: 0 auto;
}

.transformation-pair {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-lg);
  align-items: stretch;
  opacity: 0;
  transform: translateY(40px);
  transition: all var(--duration-slow) var(--ease-out);
}

.transformation-pair.visible {
  opacity: 1;
  transform: translateY(0);
}

@media (min-width: 768px) {
  .transformation-pair {
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
  }
}

.transformation-side {
  background: rgba(255, 255, 255, 0.05);
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  transition: transform var(--duration-normal) var(--ease-out);
}

.transformation-side:hover {
  transform: scale(1.02);
}

.transformation-side.origin {
  border-top: 3px solid var(--banana-blossom-pink);
}

.transformation-side.result {
  border-top: 3px solid var(--turmeric-gold);
}

.transformation-side img {
  width: 100%;
  aspect-ratio: 16 / 10;
  object-fit: cover;
}

.transformation-side-content {
  padding: var(--space-lg);
}

.transformation-side h4 {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  margin-bottom: var(--space-xs);
}

.transformation-side.origin h4 {
  color: var(--banana-blossom-pink);
}

.transformation-side.result h4 {
  color: var(--turmeric-gold);
}

.transformation-side .burmese-script {
  display: block;
  font-size: var(--text-md);
  margin-bottom: var(--space-sm);
}

.transformation-side p {
  font-size: var(--text-sm);
  color: var(--color-text-muted);
}

.transformation-arrow {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 60px;
  height: 60px;
  background: var(--turmeric-gold);
  border-radius: 50%;
  color: var(--tamarind-dark);
  font-size: var(--text-2xl);
  font-weight: bold;
  margin: 0 auto;
  animation: arrowPulse 2s ease-in-out infinite;
}

@keyframes arrowPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

/* --- Markets Gallery (Crossroads in Action) --- */
.markets-gallery {
  padding: var(--space-4xl) var(--space-xl);
}

.markets-header {
  text-align: center;
  margin-bottom: var(--space-2xl);
}

.markets-header h3 {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  color: var(--jasmine-rice);
}

.markets-header p {
  color: var(--color-text-muted);
  margin-top: var(--space-sm);
}

.markets-mosaic {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-md);
  max-width: var(--max-width-wide);
  margin: 0 auto;
}

@media (min-width: 768px) {
  .markets-mosaic {
    grid-template-columns: repeat(3, 1fr);
  }
}

.market-tile {
  position: relative;
  border-radius: var(--border-radius-md);
  overflow: hidden;
  aspect-ratio: 1;
  opacity: 0;
  transform: scale(0.9);
  transition: all var(--duration-normal) var(--ease-out);
}

.market-tile.visible {
  opacity: 1;
  transform: scale(1);
}

.market-tile.featured {
  grid-column: span 2;
  grid-row: span 2;
  aspect-ratio: auto;
}

.market-tile img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--duration-slow) var(--ease-out);
}

.market-tile:hover img {
  transform: scale(1.1);
}

.market-tile-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(transparent 50%, rgba(0, 0, 0, 0.8) 100%);
  display: flex;
  align-items: flex-end;
  padding: var(--space-lg);
  opacity: 0;
  transition: opacity var(--duration-normal) ease;
}

.market-tile:hover .market-tile-overlay {
  opacity: 1;
}

.market-tile-overlay h4 {
  font-family: var(--font-display);
  font-size: var(--text-md);
  color: var(--turmeric-gold);
}

.market-tile-overlay p {
  font-size: var(--text-sm);
  color: var(--color-text-muted);
}

/* Stagger animation delays for tributary cards */
.tributary-card:nth-child(1) { transition-delay: 0ms; }
.tributary-card:nth-child(2) { transition-delay: 100ms; }
.tributary-card:nth-child(3) { transition-delay: 200ms; }
.tributary-card:nth-child(4) { transition-delay: 300ms; }
.tributary-card:nth-child(5) { transition-delay: 400ms; }

/* Stagger for diversity cards */
.diversity-image-card:nth-child(1) { transition-delay: 0ms; }
.diversity-image-card:nth-child(2) { transition-delay: 100ms; }
.diversity-image-card:nth-child(3) { transition-delay: 200ms; }
.diversity-image-card:nth-child(4) { transition-delay: 300ms; }
.diversity-image-card:nth-child(5) { transition-delay: 400ms; }

/* Stagger for market tiles */
.market-tile:nth-child(1) { transition-delay: 0ms; }
.market-tile:nth-child(2) { transition-delay: 50ms; }
.market-tile:nth-child(3) { transition-delay: 100ms; }
.market-tile:nth-child(4) { transition-delay: 150ms; }
.market-tile:nth-child(5) { transition-delay: 200ms; }
.market-tile:nth-child(6) { transition-delay: 250ms; }

/* ============================================================================
   SOURCES SECTION
   ============================================================================ */

.sources-section {
  padding: var(--space-4xl) var(--space-xl);
  background: linear-gradient(
    135deg,
    var(--tamarind-dark) 0%,
    var(--ngapi-brown) 100%
  );
  color: var(--jasmine-rice);
}

.sources-content {
  max-width: var(--max-width-content);
  margin: 0 auto;
}

.sources-title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  margin-bottom: var(--space-xl);
  padding-bottom: var(--space-md);
  border-bottom: 1px solid rgba(227, 168, 87, 0.3);
}

.sources-list {
  list-style: none;
  padding: 0;
  margin: 0 0 var(--space-2xl) 0;
}

.sources-list li {
  margin-bottom: var(--space-md);
  padding-left: var(--space-lg);
  position: relative;
}

.sources-list li::before {
  content: '→';
  position: absolute;
  left: 0;
  color: var(--turmeric-gold);
}

.sources-list a {
  font-size: var(--text-base);
  color: var(--banana-blossom-pink);
  text-decoration: none;
  transition: color var(--duration-fast) ease;
}

.sources-list a:hover {
  color: var(--turmeric-gold);
  text-decoration: underline;
}

.sources-note {
  font-size: var(--text-sm);
  font-style: italic;
  color: rgba(245, 241, 230, 0.7);
  padding-top: var(--space-xl);
  border-top: 1px solid rgba(227, 168, 87, 0.2);
}

/* ============================================================================
   ANIMATIONS & TRANSITIONS
   ============================================================================ */

.fade-in {
  opacity: 0;
  transform: translateY(30px);
  transition: 
    opacity var(--duration-reveal) var(--ease-out),
    transform var(--duration-reveal) var(--ease-out);
}

.fade-in.visible {
  opacity: 1;
  transform: translateY(0);
}

.stagger-1 { transition-delay: 100ms; }
.stagger-2 { transition-delay: 200ms; }
.stagger-3 { transition-delay: 300ms; }
.stagger-4 { transition-delay: 400ms; }
.stagger-5 { transition-delay: 500ms; }

/* Steam animation for food photography */
@keyframes steam-rise {
  0% {
    opacity: 0;
    transform: translateY(0) scale(1);
  }
  50% {
    opacity: 0.6;
  }
  100% {
    opacity: 0;
    transform: translateY(-40px) scale(1.5);
  }
}

.steam-effect {
  position: absolute;
  width: 20px;
  height: 20px;
  background: radial-gradient(ellipse, rgba(255,255,255,0.8) 0%, transparent 70%);
  border-radius: 50%;
  animation: steam-rise 3s ease-out infinite;
}

.steam-effect:nth-child(2) { animation-delay: 1s; left: 20%; }
.steam-effect:nth-child(3) { animation-delay: 2s; left: 50%; }
.steam-effect:nth-child(4) { animation-delay: 0.5s; left: 80%; }

/* Oil shimmer effect */
@keyframes oil-shimmer {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.oil-shimmer {
  background: linear-gradient(
    135deg,
    var(--turmeric-gold) 0%,
    rgba(227, 168, 87, 0.7) 25%,
    var(--turmeric-gold) 50%,
    rgba(227, 168, 87, 0.7) 75%,
    var(--turmeric-gold) 100%
  );
  background-size: 200% 200%;
  animation: oil-shimmer 4s ease-in-out infinite;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ============================================================================
   REDUCED MOTION
   ============================================================================ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .fade-in {
    opacity: 1;
    transform: none;
  }
  
  .hero-scroll-indicator {
    animation: none;
  }
}

/* ============================================================================
   ACCESSIBILITY
   ============================================================================ */

.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.skip-link {
  position: fixed;
  top: 0;
  left: 0;
  background: var(--turmeric-gold);
  color: var(--tamarind-dark);
  padding: var(--space-sm) var(--space-md);
  z-index: 1000;
  font-weight: 600;
  text-decoration: none;
  border-radius: 0 0 var(--border-radius-sm) 0;
  /* Hidden by default using transform */
  transform: translateY(-100%);
  transition: transform var(--duration-fast) ease;
}

.skip-link:focus {
  transform: translateY(0);
  outline: 2px solid var(--jasmine-rice);
  outline-offset: 2px;
}

/* Focus styles */
.burmese-cuisine :focus-visible {
  outline: 2px solid var(--turmeric-gold);
  outline-offset: 2px;
}

/* ============================================================================
   SAFE AREA HANDLING (MOBILE)
   ============================================================================ */

.burmese-cuisine {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

.hero {
  padding-bottom: calc(var(--space-3xl) + env(safe-area-inset-bottom));
}

/* ============================================================================
   LOADING STATE
   ============================================================================ */

.loading-skeleton {
  background: linear-gradient(
    90deg,
    var(--ngapi-brown) 25%,
    rgba(227, 168, 87, 0.2) 50%,
    var(--ngapi-brown) 75%
  );
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s ease-in-out infinite;
  border-radius: var(--border-radius-sm);
}

@keyframes skeleton-loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* ============================================================================
   REDUCED MOTION SUPPORT (ACCESSIBILITY)
   ============================================================================ */

@media (prefers-reduced-motion: reduce) {
  /* Disable all animations for users who prefer reduced motion */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Ensure fade-in elements are visible */
  .fade-in {
    opacity: 1 !important;
    transform: none !important;
  }

  /* Disable specific chapter 5 animations */
  .influence-center {
    animation: none !important;
    box-shadow: 0 0 40px rgba(196, 161, 100, 0.4), 0 0 80px rgba(196, 161, 100, 0.2) !important;
  }

  .influence-arrow {
    animation: none !important;
    opacity: 0.6 !important;
  }

  .transformation-arrow {
    animation: none !important;
  }

  /* Keep content visible without motion */
  .tributary-card,
  .diversity-image-card,
  .transformation-pair,
  .market-tile,
  .influence-node {
    opacity: 1 !important;
    transform: none !important;
  }

  /* Disable hero animations */
  .hero-title,
  .hero-subtitle,
  .hero-dish,
  .hero-scroll-indicator {
    opacity: 1 !important;
    transform: none !important;
    animation: none !important;
  }

  .hero-title-shimmer {
    background: var(--turmeric-gold) !important;
    -webkit-background-clip: unset !important;
    background-clip: unset !important;
    animation: none !important;
  }

  .steam-particle,
  .hero-particle {
    display: none !important;
  }
}
