/**
 * HOW MONEY IS CREATED
 * ====================
 * Visual Essay — "The Ledger Illuminated"
 * 
 * DESIGN PHILOSOPHY:
 * Money creation is financial alchemy — transforming debt into spendable currency
 * through the ancient art of double-entry bookkeeping. This essay rejects the
 * generic "dark fintech dashboard" aesthetic in favor of something completely
 * unexpected: the warmth and beauty of Renaissance ledgers and illuminated
 * manuscripts, where this system was first invented.
 * 
 * VISUAL DNA SOURCES:
 * 1. LUCA PACIOLI'S SUMMA (1494) — The first accounting textbook
 *    Cream vellum, hand-ruled lines, sepia inks, decorated capitals
 * 
 * 2. MEDICI BANK LEDGERS — Double-entry bookkeeping originated here
 *    Warm paper, iron gall ink fading to brown, vermillion for debits
 * 
 * 3. INTAGLIO CURRENCY ENGRAVING — The art of printing money
 *    Intricate guilloche patterns, fine lines, obsessive precision
 * 
 * 4. GOLD LEAF ILLUMINATION — The sacred treatment of important texts
 *    Burnished gold accents, decorated borders, initial capitals
 * 
 * 5. VAULT MECHANISMS — Brass, steel, the weight of security
 *    Circular dials, mechanical precision, the ritual of opening
 * 
 * COLOR DERIVATION TABLE:
 * | Token          | Hex     | Source                    | Why                          |
 * |----------------|---------|---------------------------|------------------------------|
 * | Vellum         | #F5EDE0 | Aged parchment            | Renaissance ledger pages     |
 * | Parchment      | #EDE4D3 | Older vellum              | Depth and variation          |
 * | Sepia          | #5D4E37 | Iron gall ink aged        | Traditional ledger entries   |
 * | Vermillion     | #C73E1D | Accounting red ink        | Debits, emphasis, capitals   |
 * | Indigo         | #1B365D | Prussian blue inks        | Credits, authority, depth    |
 * | Gold           | #C9A227 | Gold leaf illumination    | Accents, important elements  |
 * | Copper         | #B87333 | Vault mechanisms          | Mechanical, security         |
 * | Ink Black      | #1C1712 | Fresh iron gall ink       | Strong text, contrast        |
 * 
 * TYPOGRAPHY:
 * - Display: Cormorant Garamond — Renaissance humanist elegance
 * - Body: Crimson Pro — Readable, warm, period-appropriate
 * - Data: Fira Code — For numbers, clear but not cold
 * 
 * PROGRESS INDICATOR: "The Vault Dial"
 * A circular bank vault dial that rotates as you scroll,
 * with combination markers for each section. The tumblers
 * "click" into place as you progress. Non-transferable —
 * could only be this essay about banking and money.
 */

/* ===========================================
   CSS RESET & FONT IMPORTS
   =========================================== */

@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Crimson+Pro:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Fira+Code:wght@400;500&display=swap');

/* ===========================================
   DESIGN TOKENS — The Ledger Palette
   =========================================== */

.money-creation-essay {
  /* === THE PAPERS === */
  /* Derived from Renaissance ledger pages, vellum, parchment */
  --vellum: #F5EDE0;
  --vellum-warm: #FAF6EF;
  --parchment: #EDE4D3;
  --parchment-aged: #E5D9C3;
  --paper-shadow: rgba(93, 78, 55, 0.08);
  
  /* === THE INKS === */
  /* Iron gall ink ages from black to sepia brown */
  --ink-black: #1C1712;
  --ink-sepia: #5D4E37;
  --ink-faded: #8B7D6B;
  --ink-ghost: #B8A892;
  
  /* === ACCOUNTING COLORS === */
  /* Vermillion for debits (traditional), Indigo for credits */
  --vermillion: #C73E1D;
  --vermillion-light: #E85A3C;
  --vermillion-dark: #9E2E12;
  --indigo: #1B365D;
  --indigo-light: #2B4A7A;
  --indigo-dark: #0F1F3A;
  
  /* === ILLUMINATION === */
  /* Gold leaf and copper mechanisms */
  --gold: #C9A227;
  --gold-bright: #E6C244;
  --gold-deep: #A67C00;
  --copper: #B87333;
  --copper-bright: #D4915A;
  --copper-patina: #4A7C59;
  
  /* === GUILLOCHE PATTERNS === */
  --guilloche-line: rgba(28, 23, 18, 0.06);
  --guilloche-strong: rgba(28, 23, 18, 0.12);
  
  /* === TYPOGRAPHY === */
  --font-display: 'Cormorant Garamond', 'Garamond', 'Georgia', serif;
  --font-body: 'Crimson Pro', 'Crimson Text', 'Georgia', serif;
  --font-data: 'Fira Code', 'SF Mono', monospace;
  
  /* Display sizes - dramatic, manuscript-like */
  --text-hero: clamp(3rem, 8vw, 6rem);
  --text-title: clamp(2rem, 5vw, 3.5rem);
  --text-section: clamp(1.5rem, 3.5vw, 2.25rem);
  --text-body: clamp(1.0625rem, 2vw, 1.1875rem);
  --text-small: 0.875rem;
  --text-caption: 0.8125rem;
  
  /* Line heights */
  --leading-tight: 1.2;
  --leading-display: 1.3;
  --leading-body: 1.8;
  
  /* === SPACING === */
  --space-xs: 0.5rem;
  --space-sm: 1rem;
  --space-md: 2rem;
  --space-lg: 4rem;
  --space-xl: 8rem;
  --space-section: clamp(6rem, 15vh, 12rem);
  
  /* Content widths */
  --content-width: 680px;
  --wide-width: 900px;
  --full-width: 1200px;
  
  /* === ANIMATION === */
  --ease-ledger: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-reveal: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-mechanical: cubic-bezier(0.34, 1.56, 0.64, 1);
  --duration-quick: 200ms;
  --duration-normal: 400ms;
  --duration-slow: 800ms;
  --duration-dramatic: 1200ms;
  
  /* === VAULT DIAL === */
  --vault-size: 72px;
  --vault-track: var(--parchment-aged);
  --vault-dial: var(--copper);
  --vault-marker: var(--gold);
}

/* ===========================================
   BASE STYLES — The Illuminated Page
   =========================================== */

.money-creation-essay {
  background-color: var(--vellum);
  color: var(--ink-black);
  font-family: var(--font-body);
  font-size: var(--text-body);
  line-height: var(--leading-body);
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  
  /* Subtle paper texture via gradient noise */
  background-image: 
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
}

/* Ruled lines overlay - like a ledger page */
.money-creation-essay::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: repeating-linear-gradient(
    to bottom,
    transparent,
    transparent 31px,
    var(--guilloche-line) 31px,
    var(--guilloche-line) 32px
  );
  z-index: 0;
  opacity: 0.5;
}

/* ===========================================
   VAULT DIAL — Progress Indicator
   A rotating bank vault mechanism
   =========================================== */

.vault-dial {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  width: var(--vault-size);
  height: var(--vault-size);
  z-index: 1000;
  pointer-events: none;
}

.vault-dial-track {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: 
    radial-gradient(circle at 30% 30%, var(--parchment), var(--parchment-aged));
  border: 3px solid var(--copper);
  box-shadow: 
    inset 0 2px 4px rgba(0,0,0,0.1),
    0 4px 12px rgba(0,0,0,0.15),
    0 0 0 1px rgba(255,255,255,0.5);
}

/* The rotating dial face */
.vault-dial-face {
  position: absolute;
  inset: 6px;
  border-radius: 50%;
  background: 
    conic-gradient(
      from 0deg,
      var(--copper) 0deg,
      var(--copper-bright) 30deg,
      var(--copper) 60deg,
      var(--copper-bright) 90deg,
      var(--copper) 120deg,
      var(--copper-bright) 150deg,
      var(--copper) 180deg,
      var(--copper-bright) 210deg,
      var(--copper) 240deg,
      var(--copper-bright) 270deg,
      var(--copper) 300deg,
      var(--copper-bright) 330deg,
      var(--copper) 360deg
    );
  transition: transform var(--duration-slow) var(--ease-mechanical);
  box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
}

/* Center hub */
.vault-dial-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: 
    radial-gradient(circle at 40% 40%, var(--gold-bright), var(--gold-deep));
  border: 2px solid var(--gold);
  box-shadow: 
    0 2px 4px rgba(0,0,0,0.2),
    inset 0 1px 2px rgba(255,255,255,0.3);
}

/* Section markers around the dial */
.vault-dial-markers {
  position: absolute;
  inset: 0;
}

.vault-dial-marker {
  position: absolute;
  width: 4px;
  height: 10px;
  background: var(--gold);
  left: 50%;
  top: 4px;
  transform-origin: center calc(var(--vault-size) / 2 - 10px);
  border-radius: 1px;
  opacity: 0.4;
  transition: opacity var(--duration-normal) ease, 
              background var(--duration-normal) ease;
}

.vault-dial-marker.active {
  opacity: 1;
  background: var(--vermillion);
}

.vault-dial-marker.completed {
  opacity: 0.8;
  background: var(--gold-bright);
}

/* Pointer/indicator */
.vault-dial-pointer {
  position: absolute;
  top: -2px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 10px solid var(--vermillion);
  filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3));
}

/* Section label */
.vault-dial-label {
  position: absolute;
  bottom: -24px;
  left: 50%;
  transform: translateX(-50%);
  font-family: var(--font-data);
  font-size: 10px;
  color: var(--ink-sepia);
  white-space: nowrap;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

@media (max-width: 768px) {
  .vault-dial {
    --vault-size: 56px;
    bottom: 1rem;
    right: 1rem;
  }
  
  .vault-dial-label {
    display: none;
  }
}

/* ===========================================
   HERO SECTION — The Title Page
   =========================================== */

.hero-section {
  position: relative;
  background: 
    radial-gradient(ellipse at 50% 30%, rgba(201, 162, 39, 0.08) 0%, transparent 50%),
    linear-gradient(180deg, var(--vellum-warm) 0%, var(--vellum) 100%);
}

.hero-pinned {
  position: relative;
  height: 100vh;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  padding: var(--space-lg);
}

.hero-pinned.is-pinned {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1;
}

/* Decorative border frame - currency engraving style */
.hero-pinned::before {
  content: '';
  position: absolute;
  inset: 2rem;
  border: 1px solid var(--ink-ghost);
  pointer-events: none;
  z-index: 1;
}

.hero-pinned::after {
  content: '';
  position: absolute;
  inset: 2.5rem;
  border: 2px solid var(--gold);
  opacity: 0.3;
  pointer-events: none;
  z-index: 1;
}

/* Guilloche corner decorations - behind borders but in front of background */
.hero-pinned .hero-corner {
  position: absolute;
  width: 80px;
  height: 80px;
  opacity: 0.15;
  z-index: 1;
  pointer-events: none;
}

.hero-corner svg {
  width: 100%;
  height: 100%;
}

.hero-corner--tl { top: 3rem; left: 3rem; }
.hero-corner--tr { top: 3rem; right: 3rem; transform: scaleX(-1); }
.hero-corner--bl { bottom: 3rem; left: 3rem; transform: scaleY(-1); }
.hero-corner--br { bottom: 3rem; right: 3rem; transform: scale(-1); }

/* Hero content - override global .hero-content grid styles from globals.css */
.money-creation-essay .hero-pinned .hero-content {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 10;
  /* Explicitly override global grid styles */
  grid-template-columns: unset;
  gap: unset;
}

/* Statement text styling */
.hero-statement {
  font-family: var(--font-display);
  font-size: clamp(1.5rem, 4vw, 2.5rem);
  font-weight: 400;
  font-style: italic;
  line-height: var(--leading-display);
  color: var(--ink-sepia);
  max-width: 700px;
  margin: 0;
  padding: 0 var(--space-md);
  /* Prevent text wrapping that could cause overlap */
  white-space: normal;
  word-wrap: break-word;
  /* Ensure crisp text rendering */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

.hero-title {
  text-align: center;
  max-width: 800px;
  padding: 0 var(--space-md);
}

.hero-title h1 {
  font-family: var(--font-display);
  font-size: var(--text-hero);
  font-weight: 600;
  line-height: 1.1;
  color: var(--ink-black);
  margin: 0;
  letter-spacing: -0.02em;
}

/* Illuminated initial capital */
.hero-title h1::first-letter {
  font-size: 1.3em;
  color: var(--vermillion);
}

/* Decorative flourish under title */
.hero-title::after {
  content: '⁂';
  display: block;
  margin-top: var(--space-md);
  font-size: 1.5rem;
  color: var(--gold);
  opacity: 0.6;
}

.hero-subtitle {
  font-family: var(--font-data);
  font-size: var(--text-small);
  color: var(--ink-faded);
  margin-top: var(--space-sm);
  text-transform: uppercase;
  letter-spacing: 2px;
}

.skip-button {
  position: absolute;
  bottom: 3rem;
  right: 3rem;
  padding: 0.75rem 1.5rem;
  background: transparent;
  border: 1px solid var(--copper);
  color: var(--copper);
  font-family: var(--font-data);
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 1px;
  cursor: pointer;
  transition: all var(--duration-normal) var(--ease-ledger);
}

.skip-button:hover {
  background: var(--copper);
  color: var(--vellum);
}

@media (max-width: 768px) {
  .hero-section::before,
  .hero-section::after {
    inset: 1rem;
  }
  
  .hero-corner {
    display: none;
  }
  
  .skip-button {
    bottom: 1.5rem;
    right: 1.5rem;
    padding: 0.5rem 1rem;
  }
}

/* ===========================================
   ESSAY SECTIONS
   =========================================== */

.essay-section {
  position: relative;
  padding: var(--space-section) var(--space-md);
  max-width: var(--full-width);
  margin: 0 auto;
  z-index: 1;
}

/* Section divider - decorative rule */
.stage-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: min(80%, 400px);
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    var(--gold) 20%,
    var(--gold) 80%,
    transparent
  );
}

/* Decorative section marker */
.stage-section::after {
  content: '◆';
  position: absolute;
  top: -0.5em;
  left: 50%;
  transform: translateX(-50%);
  font-size: 0.75rem;
  color: var(--gold);
  background: var(--vellum);
  padding: 0 0.5rem;
}

/* ===========================================
   CONTENT BLOCKS
   =========================================== */

.content-block {
  max-width: var(--content-width);
  margin: 0 auto var(--space-lg);
}

/* ===========================================
   TYPOGRAPHY — The Manuscript Style
   =========================================== */

.money-creation-essay h1,
.money-creation-essay h2,
.money-creation-essay h3 {
  font-family: var(--font-display);
  font-weight: 600;
  line-height: var(--leading-tight);
  color: var(--ink-black);
}

.money-creation-essay h2 {
  font-size: var(--text-section);
  margin: 0 0 var(--space-md) 0;
  padding-bottom: var(--space-sm);
  border-bottom: 1px solid var(--ink-ghost);
}

/* Illuminated first letter for section titles */
.money-creation-essay h2::first-letter {
  color: var(--vermillion);
  font-size: 1.2em;
}

.money-creation-essay h3 {
  font-size: clamp(1.25rem, 2.5vw, 1.5rem);
  margin: var(--space-md) 0 var(--space-sm) 0;
}

.money-creation-essay p {
  margin: 0 0 var(--space-sm) 0;
  color: var(--ink-black);
  text-align: justify;
  hyphens: auto;
}

/* Drop cap for opening paragraphs */
.opening-section p:first-of-type::first-letter {
  float: left;
  font-family: var(--font-display);
  font-size: 4rem;
  line-height: 0.8;
  padding-right: 0.5rem;
  color: var(--vermillion);
}

.money-creation-essay strong {
  font-weight: 600;
  color: var(--ink-black);
}

/* Key ideas highlighted in gold */
.money-creation-essay p strong:first-child {
  color: var(--gold-deep);
}

.money-creation-essay ul,
.money-creation-essay ol {
  margin: var(--space-sm) 0;
  padding-left: 1.5rem;
}

.money-creation-essay li {
  margin: 0.5rem 0;
  line-height: 1.7;
}

.money-creation-essay li::marker {
  color: var(--vermillion);
}

/* ===========================================
   PULL QUOTES — Illuminated Citations
   =========================================== */

.money-creation-essay blockquote {
  position: relative;
  margin: var(--space-lg) 0;
  padding: var(--space-md) var(--space-lg);
  background: 
    linear-gradient(135deg, var(--parchment) 0%, var(--parchment-aged) 100%);
  border-left: 4px solid var(--gold);
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-style: italic;
  line-height: 1.6;
  color: var(--ink-sepia);
}

/* Decorative quotation mark */
.money-creation-essay blockquote::before {
  content: '"';
  position: absolute;
  top: -0.5rem;
  left: 1rem;
  font-family: var(--font-display);
  font-size: 4rem;
  color: var(--gold);
  opacity: 0.4;
  line-height: 1;
}

.money-creation-essay blockquote cite {
  display: block;
  margin-top: var(--space-sm);
  font-family: var(--font-data);
  font-size: var(--text-caption);
  font-style: normal;
  color: var(--ink-faded);
}

/* ===========================================
   BALANCE SHEET — The Renaissance Ledger
   =========================================== */

.balance-sheet-container {
  margin: var(--space-lg) auto;
  padding: var(--space-md);
  max-width: var(--wide-width);
  background: 
    linear-gradient(180deg, var(--vellum-warm) 0%, var(--parchment) 100%);
  border: 2px solid var(--ink-ghost);
  position: relative;
  /* Balance sheet is in sticky element which has z-index: 1 */
  z-index: auto;
  
  /* Ledger ruling lines */
  background-image: 
    repeating-linear-gradient(
      to bottom,
      transparent,
      transparent 27px,
      var(--guilloche-line) 27px,
      var(--guilloche-line) 28px
    );
}

/* Decorative corner brackets */
.balance-sheet-container::before,
.balance-sheet-container::after {
  content: '';
  position: absolute;
  width: 24px;
  height: 24px;
  border-color: var(--gold);
  border-style: solid;
}

.balance-sheet-container::before {
  top: -2px;
  left: -2px;
  border-width: 3px 0 0 3px;
}

.balance-sheet-container::after {
  bottom: -2px;
  right: -2px;
  border-width: 0 3px 3px 0;
}

.balance-sheet-title {
  font-family: var(--font-display);
  font-size: 1.5rem;
  font-weight: 600;
  text-align: center;
  margin: 0 0 var(--space-md) 0;
  color: var(--ink-black);
  text-transform: uppercase;
  letter-spacing: 2px;
}

.balance-sheet {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-md);
  position: relative;
}

/* Center dividing line - the T-account */
.balance-sheet::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 2px;
  background: var(--ink-sepia);
  transform: translateX(-50%);
}

.balance-column {
  display: flex;
  flex-direction: column;
}

.column-header {
  font-family: var(--font-display);
  font-size: 1.125rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: var(--space-sm);
  padding-bottom: var(--space-xs);
  border-bottom: 2px solid currentColor;
}

/* Debit column - vermillion */
.balance-column.assets .column-header {
  color: var(--vermillion);
}

/* Credit column - indigo */
.balance-column.liabilities .column-header {
  color: var(--indigo);
}

.column-content {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.balance-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem 0.75rem;
  background: rgba(255, 255, 255, 0.5);
  border-left: 3px solid transparent;
  transition: all var(--duration-normal) var(--ease-ledger);
}

.balance-column.assets .balance-item {
  border-left-color: var(--vermillion);
}

.balance-column.liabilities .balance-item {
  border-left-color: var(--indigo);
}

.balance-label {
  font-family: var(--font-body);
  color: var(--ink-sepia);
}

.balance-value {
  font-family: var(--font-data);
  font-weight: 500;
}

.balance-column.assets .balance-value {
  color: var(--vermillion);
}

.balance-column.liabilities .balance-value {
  color: var(--indigo);
}

/* Balance connection line */
.balance-connection {
  position: absolute;
  left: 50%;
  bottom: var(--space-sm);
  transform: translateX(-50%);
  text-align: center;
}

.connection-label {
  font-family: var(--font-data);
  font-size: var(--text-caption);
  color: var(--gold-deep);
  background: var(--parchment);
  padding: 0.25rem 0.75rem;
  border: 1px solid var(--gold);
}

@media (max-width: 768px) {
  .balance-sheet {
    grid-template-columns: 1fr;
    gap: var(--space-md);
  }
  
  .balance-sheet::before {
    display: none;
  }
  
  .balance-column:first-child {
    border-bottom: 2px solid var(--ink-ghost);
    padding-bottom: var(--space-md);
  }
}

/* ===========================================
   FLOW CHART — Currency Engraving Style
   =========================================== */

.flow-chart-container {
  margin: var(--space-lg) auto;
  padding: var(--space-md);
  max-width: 100%;
  background: var(--parchment);
  border: 1px solid var(--ink-ghost);
}

.flow-chart-title {
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 600;
  text-align: center;
  margin: 0 0 var(--space-sm) 0;
  color: var(--ink-black);
}

.flow-chart {
  width: 100%;
  height: auto;
  min-height: 350px;
  max-height: 500px;
}

/* Override default SVG colors */
.flow-chart line,
.flow-chart path {
  stroke: var(--ink-sepia);
}

.flow-chart circle,
.flow-chart rect {
  fill: var(--vellum-warm);
  stroke: var(--copper);
  stroke-width: 2;
}

.flow-chart text {
  fill: var(--ink-black);
  font-family: var(--font-display);
}

.flow-chart polygon {
  fill: var(--copper);
}

/* ===========================================
   SOURCES SECTION
   =========================================== */

.sources-section {
  padding: var(--space-section) var(--space-md);
  background: 
    linear-gradient(180deg, var(--parchment) 0%, var(--parchment-aged) 100%);
  border-top: 3px double var(--ink-ghost);
  margin-top: var(--space-xl);
}

.sources-list {
  max-width: var(--content-width);
  margin: 0 auto;
}

.sources-list h3 {
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 600;
  margin: var(--space-lg) 0 var(--space-sm) 0;
  color: var(--ink-black);
  border-bottom: 1px solid var(--ink-ghost);
  padding-bottom: var(--space-xs);
}

.sources-list h3:first-of-type {
  margin-top: 0;
}

.sources-list ul {
  list-style: none;
  padding: 0;
  margin: var(--space-sm) 0;
}

.sources-list li {
  margin: 0.75rem 0;
  padding-left: 1.5rem;
  position: relative;
  font-size: 0.9375rem;
  line-height: 1.6;
}

/* Citation bullet - fleuron */
.sources-list li::before {
  content: '❧';
  position: absolute;
  left: 0;
  color: var(--gold);
  font-size: 0.8rem;
}

.sources-list a {
  color: var(--indigo);
  text-decoration: none;
  border-bottom: 1px solid transparent;
  transition: all var(--duration-normal) ease;
}

.sources-list a:hover {
  color: var(--vermillion);
  border-bottom-color: var(--vermillion);
}

.sources-list em {
  font-style: italic;
}

/* ===========================================
   STICKY SCROLL SECTIONS
   =========================================== */

.sticky-scroll-section {
  position: relative;
  min-height: 200vh;
  padding-bottom: var(--space-section);
}

.sticky-element {
  position: sticky;
  top: 50%;
  transform: translateY(-50%);
  z-index: 1;
  margin-bottom: var(--space-xl);
  padding: var(--space-md) 0;
  /* Create stacking context to isolate balance sheet */
  isolation: isolate;
  /* Ensure balance sheet stays behind scroll content */
  pointer-events: none;
}

.sticky-element > * {
  pointer-events: auto;
}

.scroll-content {
  position: relative;
  z-index: 2;
  min-height: 100vh;
  /* Content scrolls over sticky element - no background needed */
  /* Create stacking context */
  isolation: isolate;
}

@media (max-width: 768px) {
  .sticky-scroll-section {
    min-height: auto;
  }
  
  .sticky-element {
    position: relative;
    top: auto;
    transform: none;
    margin-bottom: var(--space-md);
  }
}

/* ===========================================
   CLOSING SECTION
   =========================================== */

.closing-section {
  background: 
    radial-gradient(ellipse at 50% 100%, rgba(201, 162, 39, 0.1) 0%, transparent 50%),
    linear-gradient(180deg, var(--vellum) 0%, var(--parchment) 100%);
  padding-top: var(--space-xl);
  padding-bottom: var(--space-xl);
}

/* Final flourish */
.closing-section .content-block:last-child::after {
  content: '— FINIS —';
  display: block;
  text-align: center;
  margin-top: var(--space-lg);
  font-family: var(--font-display);
  font-size: var(--text-small);
  font-style: italic;
  color: var(--ink-faded);
  letter-spacing: 3px;
}

/* ===========================================
   ACCESSIBILITY
   =========================================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .vault-dial-face {
    transition: none;
  }
  
  /* Ensure hero statements are visible when motion is reduced */
  .money-creation-essay .hero-content .hero-statement {
    opacity: 1 !important;
    visibility: visible !important;
    transform: none !important;
  }
}

/* Focus styles */
.money-creation-essay a:focus,
.money-creation-essay button:focus {
  outline: 2px solid var(--gold);
  outline-offset: 2px;
}

/* Screen reader only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ===========================================
   PRINT STYLES
   =========================================== */

@media print {
  .vault-dial,
  .skip-button {
    display: none;
  }
  
  .money-creation-essay {
    background: white;
    color: black;
  }
  
  .money-creation-essay::before {
    display: none;
  }
}

/* ===========================================
   SAFE AREAS (Mobile Notches)
   =========================================== */

@supports (padding: env(safe-area-inset-top)) {
  .hero-section {
    padding-top: calc(var(--space-lg) + env(safe-area-inset-top));
    padding-bottom: calc(var(--space-lg) + env(safe-area-inset-bottom));
  }
  
  .vault-dial {
    bottom: calc(2rem + env(safe-area-inset-bottom));
    right: calc(2rem + env(safe-area-inset-right));
  }
}
