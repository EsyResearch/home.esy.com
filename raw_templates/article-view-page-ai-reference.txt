import React, { useState, useEffect, useRef } from 'react';

const EsyArticleView = () => {
  const [scrollProgress, setScrollProgress] = useState(0);
  const [isBookmarked, setIsBookmarked] = useState(false);
  const [fontSize, setFontSize] = useState('default');
  const [showShareMenu, setShowShareMenu] = useState(false);
  const [copiedLink, setCopiedLink] = useState(false);
  const [imageLoaded, setImageLoaded] = useState(false);
  const contentRef = useRef(null);

  // Reading progress
  useEffect(() => {
    const handleScroll = () => {
      const totalHeight = document.documentElement.scrollHeight - window.innerHeight;
      const progress = (window.scrollY / totalHeight) * 100;
      setScrollProgress(progress);
    };

    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  // Estimated reading time based on scroll
  const estimatedReadTime = 15; // minutes
  const readingProgress = Math.min(Math.round((scrollProgress / 100) * estimatedReadTime), estimatedReadTime);

  const styles = {
    container: {
      minHeight: '100vh',
      backgroundColor: '#0a0a0f',
      color: '#ffffff',
      fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',
      lineHeight: 1.6
    },
    progressBar: {
      position: 'fixed',
      top: 0,
      left: 0,
      height: '3px',
      backgroundColor: '#8b5cf6',
      width: `${scrollProgress}%`,
      transition: 'width 0.1s ease',
      zIndex: 1001
    },
    header: {
      position: 'fixed',
      top: 0,
      left: 0,
      right: 0,
      zIndex: 1000,
      backgroundColor: 'rgba(10, 10, 15, 0.85)',
      backdropFilter: 'blur(20px)',
      borderBottom: '1px solid rgba(255, 255, 255, 0.05)',
      transition: 'all 0.3s ease'
    },
    headerInner: {
      maxWidth: '1400px',
      margin: '0 auto',
      padding: '1rem 3rem',
      display: 'flex',
      justifyContent: 'space-between',
      alignItems: 'center'
    },
    logo: {
      fontSize: '1.25rem',
      fontWeight: '300',
      letterSpacing: '-0.02em',
      color: '#ffffff',
      textDecoration: 'none'
    },
    headerActions: {
      display: 'flex',
      alignItems: 'center',
      gap: '1rem'
    },
    iconButton: {
      padding: '0.625rem',
      backgroundColor: 'transparent',
      border: '1px solid rgba(255, 255, 255, 0.1)',
      borderRadius: '8px',
      color: 'rgba(255, 255, 255, 0.7)',
      cursor: 'pointer',
      transition: 'all 0.2s ease',
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center'
    },
    articleContainer: {
      paddingTop: '5rem'
    },
    breadcrumb: {
      maxWidth: '1200px',
      margin: '0 auto',
      padding: '1.5rem 3rem 0',
      display: 'flex',
      alignItems: 'center',
      gap: '0.75rem',
      fontSize: '0.875rem',
      color: 'rgba(255, 255, 255, 0.5)'
    },
    breadcrumbLink: {
      color: 'rgba(255, 255, 255, 0.5)',
      textDecoration: 'none',
      transition: 'color 0.2s ease'
    },
    featuredImage: {
      position: 'relative',
      width: '100%',
      height: '600px',
      overflow: 'hidden',
      marginTop: '1rem',
      backgroundColor: '#16161f'
    },
    imageOverlay: {
      position: 'absolute',
      inset: 0,
      background: 'linear-gradient(to bottom, rgba(10, 10, 15, 0) 0%, rgba(10, 10, 15, 0.4) 60%, rgba(10, 10, 15, 0.9) 100%)',
      zIndex: 1
    },
    imageContent: {
      position: 'absolute',
      inset: 0,
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center',
      zIndex: 0
    },
    imageGraphic: {
      width: '100%',
      height: '100%',
      background: 'radial-gradient(circle at 30% 50%, rgba(139, 92, 246, 0.2) 0%, transparent 50%)',
      position: 'relative',
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center',
      opacity: imageLoaded ? 1 : 0,
      transition: 'opacity 1s ease'
    },
    bookVisualization: {
      position: 'relative',
      width: '400px',
      height: '500px',
      transform: 'perspective(1000px) rotateY(-15deg)',
      transformStyle: 'preserve-3d'
    },
    bookCover: {
      position: 'absolute',
      width: '100%',
      height: '100%',
      background: 'linear-gradient(135deg, #2a2a3a 0%, #16161f 100%)',
      borderRadius: '8px',
      border: '1px solid rgba(139, 92, 246, 0.3)',
      display: 'flex',
      flexDirection: 'column',
      alignItems: 'center',
      justifyContent: 'center',
      padding: '3rem',
      boxShadow: '0 20px 40px rgba(0, 0, 0, 0.5)'
    },
    bookTitle: {
      fontSize: '2.5rem',
      fontWeight: '200',
      textAlign: 'center',
      marginBottom: '1rem',
      letterSpacing: '-0.02em',
      color: '#ffffff'
    },
    bookAuthor: {
      fontSize: '1.125rem',
      color: 'rgba(255, 255, 255, 0.6)',
      marginBottom: '2rem'
    },
    codeFloating: {
      position: 'absolute',
      padding: '0.5rem 1rem',
      backgroundColor: 'rgba(139, 92, 246, 0.1)',
      border: '1px solid rgba(139, 92, 246, 0.3)',
      borderRadius: '6px',
      fontFamily: 'Monaco, Consolas, monospace',
      fontSize: '0.875rem',
      color: '#8b5cf6',
      whiteSpace: 'nowrap'
    },
    articleHero: {
      padding: '3rem 3rem 4rem',
      maxWidth: '900px',
      margin: '0 auto',
      textAlign: 'center',
      position: 'relative',
      zIndex: 2
    },
    articleCategory: {
      display: 'inline-block',
      fontSize: '0.875rem',
      color: '#8b5cf6',
      textTransform: 'uppercase',
      letterSpacing: '0.1em',
      fontWeight: '500',
      marginBottom: '1.5rem'
    },
    articleTitle: {
      fontSize: 'clamp(2.5rem, 5vw, 3.5rem)',
      fontWeight: '200',
      lineHeight: '1.2',
      letterSpacing: '-0.03em',
      marginBottom: '2rem'
    },
    articleMeta: {
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center',
      gap: '2rem',
      flexWrap: 'wrap',
      marginBottom: '3rem'
    },
    authorInfo: {
      display: 'flex',
      alignItems: 'center',
      gap: '0.75rem'
    },
    authorAvatar: {
      width: '48px',
      height: '48px',
      borderRadius: '50%',
      backgroundColor: 'rgba(139, 92, 246, 0.2)',
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center',
      fontSize: '1.25rem',
      fontWeight: '300'
    },
    authorDetails: {
      textAlign: 'left'
    },
    authorName: {
      fontSize: '1rem',
      fontWeight: '500',
      marginBottom: '0.125rem'
    },
    authorRole: {
      fontSize: '0.875rem',
      color: 'rgba(255, 255, 255, 0.5)'
    },
    metaDivider: {
      width: '1px',
      height: '24px',
      backgroundColor: 'rgba(255, 255, 255, 0.1)'
    },
    metaItem: {
      fontSize: '0.875rem',
      color: 'rgba(255, 255, 255, 0.5)',
      display: 'flex',
      alignItems: 'center',
      gap: '0.5rem'
    },
    articleContent: {
      maxWidth: '720px',
      margin: '0 auto',
      padding: '0 3rem',
      fontSize: fontSize === 'small' ? '1rem' : fontSize === 'large' ? '1.25rem' : '1.125rem',
      lineHeight: '1.8',
      color: 'rgba(255, 255, 255, 0.9)'
    },
    paragraph: {
      marginBottom: '1.75rem'
    },
    heading2: {
      fontSize: '2rem',
      fontWeight: '300',
      marginTop: '3rem',
      marginBottom: '1.5rem',
      letterSpacing: '-0.02em'
    },
    heading3: {
      fontSize: '1.5rem',
      fontWeight: '400',
      marginTop: '2.5rem',
      marginBottom: '1.25rem',
      letterSpacing: '-0.01em'
    },
    blockquote: {
      borderLeft: '3px solid #8b5cf6',
      paddingLeft: '2rem',
      marginLeft: '-2rem',
      marginTop: '2rem',
      marginBottom: '2rem',
      fontStyle: 'italic',
      fontSize: '1.25rem',
      lineHeight: '1.7',
      color: 'rgba(255, 255, 255, 0.8)'
    },
    codeBlock: {
      backgroundColor: '#16161f',
      border: '1px solid rgba(255, 255, 255, 0.1)',
      borderRadius: '8px',
      padding: '1.5rem',
      marginTop: '2rem',
      marginBottom: '2rem',
      fontFamily: 'Monaco, Consolas, monospace',
      fontSize: '0.875rem',
      overflowX: 'auto',
      position: 'relative'
    },
    codeLabel: {
      position: 'absolute',
      top: '0.75rem',
      right: '0.75rem',
      fontSize: '0.75rem',
      color: 'rgba(255, 255, 255, 0.4)',
      textTransform: 'uppercase',
      letterSpacing: '0.05em'
    },
    inlineCode: {
      backgroundColor: 'rgba(139, 92, 246, 0.1)',
      padding: '0.125rem 0.375rem',
      borderRadius: '4px',
      fontFamily: 'Monaco, Consolas, monospace',
      fontSize: '0.875em'
    },
    list: {
      marginBottom: '1.75rem',
      paddingLeft: '1.5rem'
    },
    listItem: {
      marginBottom: '0.75rem',
      position: 'relative'
    },
    calloutBox: {
      backgroundColor: 'rgba(139, 92, 246, 0.05)',
      border: '1px solid rgba(139, 92, 246, 0.2)',
      borderRadius: '12px',
      padding: '2rem',
      marginTop: '2.5rem',
      marginBottom: '2.5rem'
    },
    calloutTitle: {
      fontSize: '1.125rem',
      fontWeight: '500',
      marginBottom: '0.75rem',
      display: 'flex',
      alignItems: 'center',
      gap: '0.75rem'
    },
    literaryExample: {
      backgroundColor: 'rgba(255, 255, 255, 0.02)',
      border: '1px solid rgba(255, 255, 255, 0.05)',
      borderRadius: '12px',
      padding: '2rem',
      marginTop: '2rem',
      marginBottom: '2rem'
    },
    exampleLabel: {
      fontSize: '0.875rem',
      color: '#8b5cf6',
      textTransform: 'uppercase',
      letterSpacing: '0.05em',
      marginBottom: '1rem',
      fontWeight: '500'
    },
    exampleText: {
      fontSize: '1.125rem',
      lineHeight: '1.8',
      marginBottom: '1.5rem',
      fontStyle: 'italic',
      color: 'rgba(255, 255, 255, 0.8)'
    },
    exampleAnalysis: {
      fontSize: '0.9375rem',
      color: 'rgba(255, 255, 255, 0.7)',
      lineHeight: '1.7'
    },
    stickyNav: {
      position: 'fixed',
      right: '3rem',
      top: '50%',
      transform: 'translateY(-50%)',
      width: '200px'
    },
    tableOfContents: {
      backgroundColor: 'rgba(22, 22, 31, 0.4)',
      borderRadius: '12px',
      padding: '1.5rem',
      border: '1px solid rgba(255, 255, 255, 0.05)'
    },
    tocTitle: {
      fontSize: '0.875rem',
      fontWeight: '500',
      textTransform: 'uppercase',
      letterSpacing: '0.05em',
      color: 'rgba(255, 255, 255, 0.5)',
      marginBottom: '1rem'
    },
    tocItem: {
      fontSize: '0.875rem',
      color: 'rgba(255, 255, 255, 0.6)',
      marginBottom: '0.75rem',
      cursor: 'pointer',
      transition: 'all 0.2s ease',
      paddingLeft: '1rem',
      position: 'relative'
    },
    tocItemActive: {
      color: '#8b5cf6'
    },
    tocIndicator: {
      position: 'absolute',
      left: 0,
      top: '50%',
      transform: 'translateY(-50%)',
      width: '2px',
      height: '16px',
      backgroundColor: '#8b5cf6',
      opacity: 0,
      transition: 'opacity 0.2s ease'
    },
    articleFooter: {
      maxWidth: '720px',
      margin: '4rem auto',
      padding: '0 3rem'
    },
    shareSection: {
      padding: '3rem 0',
      borderTop: '1px solid rgba(255, 255, 255, 0.05)',
      borderBottom: '1px solid rgba(255, 255, 255, 0.05)',
      textAlign: 'center'
    },
    shareTitle: {
      fontSize: '1.25rem',
      fontWeight: '300',
      marginBottom: '1.5rem'
    },
    shareButtons: {
      display: 'flex',
      justifyContent: 'center',
      gap: '1rem',
      position: 'relative'
    },
    shareButton: {
      padding: '0.75rem 1.5rem',
      backgroundColor: 'transparent',
      border: '1px solid rgba(255, 255, 255, 0.1)',
      borderRadius: '8px',
      color: 'rgba(255, 255, 255, 0.7)',
      cursor: 'pointer',
      transition: 'all 0.2s ease',
      display: 'flex',
      alignItems: 'center',
      gap: '0.5rem',
      fontSize: '0.875rem'
    },
    shareMenu: {
      position: 'absolute',
      top: '100%',
      left: '50%',
      transform: 'translateX(-50%)',
      marginTop: '0.5rem',
      backgroundColor: '#16161f',
      border: '1px solid rgba(255, 255, 255, 0.1)',
      borderRadius: '8px',
      padding: '0.5rem',
      minWidth: '200px',
      boxShadow: '0 10px 30px rgba(0, 0, 0, 0.5)'
    },
    shareMenuItem: {
      padding: '0.75rem 1rem',
      backgroundColor: 'transparent',
      border: 'none',
      color: 'rgba(255, 255, 255, 0.7)',
      cursor: 'pointer',
      transition: 'all 0.2s ease',
      display: 'flex',
      alignItems: 'center',
      gap: '0.75rem',
      width: '100%',
      fontSize: '0.875rem',
      borderRadius: '6px'
    },
    authorBox: {
      backgroundColor: 'rgba(139, 92, 246, 0.03)',
      border: '1px solid rgba(139, 92, 246, 0.1)',
      borderRadius: '12px',
      padding: '2rem',
      marginTop: '3rem',
      display: 'flex',
      gap: '2rem',
      alignItems: 'center'
    },
    authorBoxAvatar: {
      width: '80px',
      height: '80px',
      borderRadius: '50%',
      backgroundColor: 'rgba(139, 92, 246, 0.2)',
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center',
      fontSize: '2rem',
      fontWeight: '300',
      flexShrink: 0
    },
    authorBoxContent: {
      flex: 1
    },
    authorBoxName: {
      fontSize: '1.25rem',
      fontWeight: '400',
      marginBottom: '0.5rem'
    },
    authorBoxBio: {
      color: 'rgba(255, 255, 255, 0.7)',
      lineHeight: '1.6',
      marginBottom: '1rem'
    },
    authorBoxMeta: {
      fontSize: '0.875rem',
      color: 'rgba(255, 255, 255, 0.5)'
    },
    relatedArticles: {
      marginTop: '5rem',
      padding: '4rem 0',
      backgroundColor: '#16161f'
    },
    relatedInner: {
      maxWidth: '1200px',
      margin: '0 auto',
      padding: '0 3rem'
    },
    relatedTitle: {
      fontSize: '2rem',
      fontWeight: '300',
      marginBottom: '2rem',
      textAlign: 'center'
    },
    relatedGrid: {
      display: 'grid',
      gridTemplateColumns: 'repeat(auto-fill, minmax(320px, 1fr))',
      gap: '2rem'
    },
    relatedCard: {
      backgroundColor: '#0a0a0f',
      borderRadius: '12px',
      padding: '1.5rem',
      transition: 'all 0.3s ease',
      cursor: 'pointer',
      border: '1px solid transparent'
    },
    relatedCategory: {
      fontSize: '0.75rem',
      color: '#8b5cf6',
      textTransform: 'uppercase',
      letterSpacing: '0.1em',
      fontWeight: '500',
      marginBottom: '0.5rem'
    },
    relatedCardTitle: {
      fontSize: '1.125rem',
      fontWeight: '400',
      marginBottom: '0.5rem',
      letterSpacing: '-0.01em'
    },
    relatedMeta: {
      fontSize: '0.875rem',
      color: 'rgba(255, 255, 255, 0.4)'
    }
  };

  const tableOfContents = [
    { id: 'introduction', title: 'Introduction', active: scrollProgress < 15 },
    { id: 'symbolic-analysis', title: 'Symbolic Analysis', active: scrollProgress >= 15 && scrollProgress < 35 },
    { id: 'character-exploration', title: 'Character Deep Dives', active: scrollProgress >= 35 && scrollProgress < 55 },
    { id: 'thematic-prompts', title: 'Thematic Exploration', active: scrollProgress >= 55 && scrollProgress < 75 },
    { id: 'comparative-analysis', title: 'Comparative Analysis', active: scrollProgress >= 75 && scrollProgress < 90 },
    { id: 'conclusion', title: 'Advanced Techniques', active: scrollProgress >= 90 }
  ];

  const relatedArticles = [
    {
      category: 'Literary Analysis',
      title: 'AI-Powered Shakespeare: Analyzing The Tempest',
      author: 'Dr. James Liu',
      readTime: '12 min'
    },
    {
      category: 'Prompt Engineering',
      title: 'Deconstructing Modernist Poetry with GPT-4',
      author: 'Prof. Maria Rodriguez',
      readTime: '10 min'
    },
    {
      category: 'Case Studies',
      title: 'From Text to Context: Historical Fiction Analysis',
      author: 'Dr. David Kim',
      readTime: '15 min'
    }
  ];

  const handleShare = (platform) => {
    if (platform === 'copy') {
      navigator.clipboard.writeText(window.location.href);
      setCopiedLink(true);
      setTimeout(() => setCopiedLink(false), 2000);
    }
    setShowShareMenu(false);
  };

  useEffect(() => {
    // Simulate image loading
    setTimeout(() => setImageLoaded(true), 500);
  }, []);

  return (
    <div style={styles.container}>
      <div style={styles.progressBar} />
      
      {/* Header */}
      <header style={styles.header}>
        <div style={styles.headerInner}>
          <a href="/" style={styles.logo}>esy</a>
          
          <div style={styles.headerActions}>
            <button 
              style={{
                ...styles.iconButton,
                backgroundColor: isBookmarked ? 'rgba(139, 92, 246, 0.1)' : 'transparent',
                borderColor: isBookmarked ? '#8b5cf6' : 'rgba(255, 255, 255, 0.1)',
                color: isBookmarked ? '#8b5cf6' : 'rgba(255, 255, 255, 0.7)'
              }}
              onClick={() => setIsBookmarked(!isBookmarked)}
            >
              <svg width="18" height="18" viewBox="0 0 24 24" fill={isBookmarked ? 'currentColor' : 'none'} stroke="currentColor" strokeWidth="2">
                <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
              </svg>
            </button>
            
            <div style={{ position: 'relative' }}>
              <button 
                style={styles.iconButton}
                onClick={() => setShowShareMenu(!showShareMenu)}
              >
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                  <circle cx="18" cy="5" r="3"></circle>
                  <circle cx="6" cy="12" r="3"></circle>
                  <circle cx="18" cy="19" r="3"></circle>
                  <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                  <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                </svg>
              </button>
              
              {showShareMenu && (
                <div style={styles.shareMenu}>
                  <button 
                    style={styles.shareMenuItem}
                    onClick={() => handleShare('twitter')}
                    onMouseEnter={(e) => e.currentTarget.style.backgroundColor = 'rgba(255, 255, 255, 0.05)'}
                    onMouseLeave={(e) => e.currentTarget.style.backgroundColor = 'transparent'}
                  >
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
                    </svg>
                    Twitter
                  </button>
                  <button 
                    style={styles.shareMenuItem}
                    onClick={() => handleShare('linkedin')}
                    onMouseEnter={(e) => e.currentTarget.style.backgroundColor = 'rgba(255, 255, 255, 0.05)'}
                    onMouseLeave={(e) => e.currentTarget.style.backgroundColor = 'transparent'}
                  >
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                      <rect x="2" y="9" width="4" height="12"></rect>
                      <circle cx="4" cy="4" r="2"></circle>
                    </svg>
                    LinkedIn
                  </button>
                  <button 
                    style={styles.shareMenuItem}
                    onClick={() => handleShare('copy')}
                    onMouseEnter={(e) => e.currentTarget.style.backgroundColor = 'rgba(255, 255, 255, 0.05)'}
                    onMouseLeave={(e) => e.currentTarget.style.backgroundColor = 'transparent'}
                  >
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                    {copiedLink ? 'Copied!' : 'Copy link'}
                  </button>
                </div>
              )}
            </div>
            
            <select 
              value={fontSize}
              onChange={(e) => setFontSize(e.target.value)}
              style={{
                ...styles.iconButton,
                padding: '0.625rem 1rem',
                fontSize: '0.875rem',
                appearance: 'none',
                backgroundImage: `url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L6 6L11 1' stroke='%23999' stroke-width='2'/%3E%3C/svg%3E")`,
                backgroundRepeat: 'no-repeat',
                backgroundPosition: 'right 0.75rem center',
                paddingRight: '2rem'
              }}
            >
              <option value="small">Small</option>
              <option value="default">Default</option>
              <option value="large">Large</option>
            </select>
          </div>
        </div>
      </header>

      <article style={styles.articleContainer}>
        {/* Breadcrumb */}
        <nav style={styles.breadcrumb}>
          <a 
            href="/school" 
            style={styles.breadcrumbLink}
            onMouseEnter={(e) => e.target.style.color = '#ffffff'}
            onMouseLeave={(e) => e.target.style.color = 'rgba(255, 255, 255, 0.5)'}
          >
            School
          </a>
          <span>/</span>
          <a 
            href="/school/articles" 
            style={styles.breadcrumbLink}
            onMouseEnter={(e) => e.target.style.color = '#ffffff'}
            onMouseLeave={(e) => e.target.style.color = 'rgba(255, 255, 255, 0.5)'}
          >
            Articles
          </a>
          <span>/</span>
          <span>Literary Analysis</span>
        </nav>

        {/* Featured Image */}
        <div style={styles.featuredImage}>
          <div style={styles.imageOverlay} />
          <div style={styles.imageContent}>
            <div style={styles.imageGraphic}>
              <div style={styles.bookVisualization}>
                <div style={styles.bookCover}>
                  <h2 style={styles.bookTitle}>To Kill a Mockingbird</h2>
                  <p style={styles.bookAuthor}>Harper Lee</p>
                  <div style={{ 
                    width: '100px', 
                    height: '2px', 
                    backgroundColor: '#8b5cf6',
                    margin: '0 auto'
                  }} />
                </div>
                
                {/* Floating code snippets */}
                <div style={{
                  ...styles.codeFloating,
                  top: '20%',
                  left: '-150px',
                  transform: 'rotate(-5deg)',
                  animation: 'float 6s ease-in-out infinite'
                }}>
                  analyze_symbolism("mockingbird")
                </div>
                
                <div style={{
                  ...styles.codeFloating,
                  bottom: '30%',
                  right: '-140px',
                  transform: 'rotate(3deg)',
                  animation: 'float 8s ease-in-out infinite reverse'
                }}>
                  character.get_motivation("Scout")
                </div>
                
                <div style={{
                  ...styles.codeFloating,
                  top: '60%',
                  left: '-120px',
                  transform: 'rotate(-3deg)',
                  animation: 'float 7s ease-in-out infinite'
                }}>
                  theme.explore("justice")
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* Article Hero */}
        <header style={styles.articleHero}>
          <div style={styles.articleCategory}>Literary Analysis</div>
          <h1 style={styles.articleTitle}>
            Unlocking Literary Depth: Using Prompt Engineering to Analyze "To Kill a Mockingbird"
          </h1>
          
          <div style={styles.articleMeta}>
            <div style={styles.authorInfo}>
              <div style={styles.authorAvatar}>EW</div>
              <div style={styles.authorDetails}>
                <div style={styles.authorName}>Dr. Emily Watson</div>
                <div style={styles.authorRole}>Professor of English Literature</div>
              </div>
            </div>
            
            <div style={styles.metaDivider} />
            
            <div style={styles.metaItem}>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
              </svg>
              March 25, 2025
            </div>
            
            <div style={styles.metaDivider} />
            
            <div style={styles.metaItem}>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
              {readingProgress} / {estimatedReadTime} min read
            </div>
          </div>
        </header>

        {/* Article Content */}
        <div style={styles.articleContent} ref={contentRef}>
          <p style={styles.paragraph}>
            Harper Lee's "To Kill a Mockingbird" remains one of American literature's most profound explorations of justice, morality, and coming-of-age. But what if we could unlock deeper layers of meaning using modern AI tools? This guide demonstrates how strategic prompt engineering can transform your literary analysis, revealing insights that might otherwise remain hidden.
          </p>

          <p style={styles.paragraph}>
            By combining traditional close reading techniques with AI-powered analysis, we can explore symbolism, character development, and thematic elements with unprecedented depth. This approach doesn't replace human interpretation—it enhances it, offering new perspectives and connections that enrich our understanding of this classic text.
          </p>

          <h2 style={styles.heading2} id="symbolic-analysis">Mastering Symbolic Analysis Through Prompts</h2>
          
          <p style={styles.paragraph}>
            The mockingbird symbol permeates Lee's novel, but its full significance often eludes first-time readers. Let's explore how carefully crafted prompts can illuminate this central metaphor and its various manifestations throughout the text.
          </p>

          <div style={styles.codeBlock}>
            <span style={styles.codeLabel}>Prompt Example</span>
            <code>
              Analyze the mockingbird as a symbol in Harper Lee's novel. Consider:<br/><br/>
              1. Direct references to mockingbirds in the text<br/>
              2. Characters who embody mockingbird-like qualities<br/>
              3. The progression of this symbol from innocence to destruction<br/>
              4. How Scout's understanding of the symbol evolves<br/><br/>
              Provide specific textual evidence and explore the symbol's connection to the novel's central themes of innocence, justice, and moral growth.
            </code>
          </div>

          <p style={styles.paragraph}>
            This prompt structure encourages comprehensive analysis while maintaining focus. The AI can help identify subtle connections between the mockingbird symbol and characters like Tom Robinson and Boo Radley, both of whom embody innocence destroyed by evil.
          </p>

          <div style={styles.literaryExample}>
            <div style={styles.exampleLabel}>Literary Insight</div>
            <div style={styles.exampleText}>
              "Mockingbirds don't do one thing but make music for us to enjoy... they don't do one thing but sing their hearts out for us. That's why it's a sin to kill a mockingbird."
            </div>
            <div style={styles.exampleAnalysis}>
              The AI analysis reveals how this seemingly simple explanation from Atticus contains the novel's entire moral framework. The mockingbird becomes a test of character—those who would harm the innocent reveal their own moral corruption.
            </div>
          </div>

          <h3 style={styles.heading3}>Advanced Symbolic Connections</h3>
          
          <p style={styles.paragraph}>
            To deepen the analysis, we can use chain-of-thought prompting to explore interconnected symbols. Consider how the mockingbird relates to other symbolic elements: the tree gifts, the courthouse, Scout's ham costume. Each carries meaning that amplifies when examined in relation to the others.
          </p>

          <h2 style={styles.heading2} id="character-exploration">Character Deep Dives with AI Assistance</h2>
          
          <p style={styles.paragraph}>
            Character analysis benefits tremendously from AI's ability to track development across lengthy texts. Let's examine how to craft prompts that reveal character complexity and growth.
          </p>

          <div style={styles.codeBlock}>
            <span style={styles.codeLabel}>Character Analysis Prompt</span>
            <code>
              Trace Scout Finch's moral development throughout "To Kill a Mockingbird" by analyzing:<br/><br/>
              - Her initial worldview and assumptions about Maycomb<br/>
              - Key moments that challenge her perspective<br/>
              - Her evolving understanding of empathy (walking in someone's shoes)<br/>
              - The role of Atticus, Jem, and Calpurnia in shaping her growth<br/>
              - How her narration style reflects her changing maturity<br/><br/>
              Focus on specific scenes and dialogue that mark turning points in her development.
            </code>
          </div>

          <p style={styles.paragraph}>
            This structured approach helps identify Scout's transformation from innocent observer to empathetic participant in her community's moral struggles. The AI can track linguistic changes in her narration that reflect growing sophistication.
          </p>

          <div style={styles.calloutBox}>
            <h4 style={styles.calloutTitle}>
              <span style={{ fontSize: '1.5rem' }}>🎯</span>
              Prompt Engineering Tip
            </h4>
            <p>
              When analyzing character development, ask the AI to compare early and late appearances of the character. This contrast approach often reveals subtle growth that linear analysis might miss.
            </p>
          </div>

          <h3 style={styles.heading3}>Exploring Character Relationships</h3>
          
          <p style={styles.paragraph}>
            The relationships between characters often reveal more than individual analysis. Consider this approach to examining the complex dynamic between Scout and Boo Radley:
          </p>

          <div style={styles.literaryExample}>
            <div style={styles.exampleLabel}>Relationship Analysis</div>
            <div style={styles.exampleText}>
              "Boo was our neighbor. He gave us two soap dolls, a broken watch and chain, a pair of good-luck pennies, and our lives."
            </div>
            <div style={styles.exampleAnalysis}>
              Through prompted analysis, we see how Scout's simple list represents a profound journey from childish curiosity to mature gratitude. Each gift marks a stage in their relationship, culminating in the ultimate gift of life itself.
            </div>
          </div>

          <h2 style={styles.heading2} id="thematic-prompts">Thematic Exploration Through Layered Prompts</h2>
          
          <p style={styles.paragraph}>
            The novel's themes interweave in complex patterns. AI analysis excels at identifying these connections when given properly structured prompts. Let's explore the intersection of prejudice, justice, and moral courage.
          </p>

          <div style={styles.codeBlock}>
            <span style={styles.codeLabel}>Thematic Analysis Framework</span>
            <code>
              Analyze how "To Kill a Mockingbird" presents the theme of moral courage:<br/><br/>
              Level 1: Identify explicit acts of courage (Atticus defending Tom, Mrs. Dubose's struggle)<br/>
              Level 2: Explore quiet courage (Miss Maudie's dignity, Link Deas supporting Helen)<br/>
              Level 3: Examine the courage required to change one's mind (Scout with Boo, Jem's disillusionment)<br/>
              Level 4: Connect courage to the novel's critique of social systems<br/><br/>
              How does Lee suggest that true courage exists in degrees and contexts?
            </code>
          </div>

          <p style={styles.paragraph}>
            This layered approach reveals how Lee constructs a nuanced argument about courage that goes beyond simple heroics. The AI can help identify patterns showing how different characters embody different types of courage, each valid and necessary.
          </p>

          <h2 style={styles.heading2} id="comparative-analysis">Comparative Analysis: Connecting Texts and Contexts</h2>
          
          <p style={styles.paragraph}>
            One of AI's greatest strengths lies in making connections across texts and contexts. We can use this capability to place "To Kill a Mockingbird" in broader literary and historical conversations.
          </p>

          <div style={styles.calloutBox}>
            <h4 style={styles.calloutTitle}>
              <span style={{ fontSize: '1.5rem' }}>🔄</span>
              Cross-Reference Prompt
            </h4>
            <p>
              Compare the treatment of justice in "To Kill a Mockingbird" with other American literary works addressing racial injustice. Consider narrative techniques, character archetypes, and how each work reflects its historical moment while speaking to universal themes.
            </p>
          </div>

          <p style={styles.paragraph}>
            This comparative approach can reveal how Lee's work both draws from and contributes to American literary traditions. The AI can identify echoes of earlier works while highlighting Lee's unique contributions to the ongoing dialogue about race and justice in America.
          </p>

          <h2 style={styles.heading2} id="conclusion">Advanced Techniques and Best Practices</h2>
          
          <p style={styles.paragraph}>
            As you develop your prompt engineering skills for literary analysis, remember that the goal is not to replace human insight but to augment it. The best analysis emerges from a dialogue between human creativity and AI capability.
          </p>

          <h3 style={styles.heading3}>Key Strategies for Success</h3>
          
          <ul style={styles.list}>
            <li style={styles.listItem}>
              <strong>Iterative Refinement:</strong> Start with broad prompts and narrow based on initial results. Each response can inform more targeted questions.
            </li>
            <li style={styles.listItem}>
              <strong>Textual Grounding:</strong> Always request specific quotations and page references. This ensures analysis remains rooted in the text rather than generalities.
            </li>
            <li style={styles.listItem}>
              <strong>Multiple Perspectives:</strong> Ask the AI to argue different interpretations of the same passage. This develops critical thinking and reveals textual ambiguity.
            </li>
            <li style={styles.listItem}>
              <strong>Historical Context:</strong> Include prompts about the novel's historical moment and reception history. This adds crucial layers to interpretation.
            </li>
            <li style={styles.listItem}>
              <strong>Creative Connections:</strong> Encourage unexpected comparisons and metaphorical thinking. AI can suggest surprising but illuminating parallels.
            </li>
          </ul>

          <div style={styles.literaryExample}>
            <div style={styles.exampleLabel}>Final Reflection</div>
            <div style={styles.exampleText}>
              "You never really understand a person until you consider things from his point of view... Until you climb inside of his skin and walk around in it."
            </div>
            <div style={styles.exampleAnalysis}>
              This central wisdom from Atticus applies equally to our approach to literary analysis with AI. By crafting thoughtful prompts, we climb inside the text, walking around in its meanings, discovering new paths through familiar territory.
            </div>
          </div>

          <p style={styles.paragraph}>
            The marriage of traditional literary analysis and modern AI tools opens new horizons for understanding classic texts. As you apply these techniques to "To Kill a Mockingbird" and beyond, you'll discover that prompt engineering is itself an art—one that rewards patience, creativity, and careful attention to language.
          </p>

          <p style={styles.paragraph}>
            Start with these frameworks, but don't stop there. The beauty of AI-assisted analysis lies in its ability to surprise us, revealing connections and insights we might never have discovered alone. In this collaboration between human insight and artificial intelligence, we find new ways to honor the complexity and continued relevance of great literature.
          </p>
        </div>

        {/* Table of Contents - Sticky Nav */}
        <nav style={styles.stickyNav}>
          <div style={styles.tableOfContents}>
            <h4 style={styles.tocTitle}>In this article</h4>
            {tableOfContents.map((item) => (
              <div
                key={item.id}
                style={{
                  ...styles.tocItem,
                  ...(item.active ? styles.tocItemActive : {})
                }}
                onClick={() => {
                  document.getElementById(item.id)?.scrollIntoView({ behavior: 'smooth' });
                }}
              >
                <span 
                  style={{
                    ...styles.tocIndicator,
                    opacity: item.active ? 1 : 0
                  }} 
                />
                {item.title}
              </div>
            ))}
          </div>
        </nav>

        {/* Article Footer */}
        <footer style={styles.articleFooter}>
          {/* Author Box */}
          <div style={styles.authorBox}>
            <div style={styles.authorBoxAvatar}>EW</div>
            <div style={styles.authorBoxContent}>
              <h3 style={styles.authorBoxName}>Dr. Emily Watson</h3>
              <p style={styles.authorBoxBio}>
                Professor of English Literature at Yale University, specializing in American literature 
                and digital humanities. Author of "Reading in the Digital Age" and pioneer in applying 
                AI tools to literary analysis while maintaining humanistic values.
              </p>
              <div style={styles.authorBoxMeta}>
                38 articles published · Joined February 2024
              </div>
            </div>
          </div>

          {/* Share Section */}
          <div style={styles.shareSection}>
            <h3 style={styles.shareTitle}>Share this article</h3>
            <div style={styles.shareButtons}>
              <button 
                style={styles.shareButton}
                onClick={() => handleShare('twitter')}
                onMouseEnter={(e) => {
                  e.currentTarget.style.borderColor = '#8b5cf6';
                  e.currentTarget.style.color = '#8b5cf6';
                }}
                onMouseLeave={(e) => {
                  e.currentTarget.style.borderColor = 'rgba(255, 255, 255, 0.1)';
                  e.currentTarget.style.color = 'rgba(255, 255, 255, 0.7)';
                }}
              >
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
                </svg>
                Share on Twitter
              </button>
              
              <button 
                style={styles.shareButton}
                onClick={() => handleShare('linkedin')}
                onMouseEnter={(e) => {
                  e.currentTarget.style.borderColor = '#8b5cf6';
                  e.currentTarget.style.color = '#8b5cf6';
                }}
                onMouseLeave={(e) => {
                  e.currentTarget.style.borderColor = 'rgba(255, 255, 255, 0.1)';
                  e.currentTarget.style.color = 'rgba(255, 255, 255, 0.7)';
                }}
              >
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                  <rect x="2" y="9" width="4" height="12"></rect>
                  <circle cx="4" cy="4" r="2"></circle>
                </svg>
                Share on LinkedIn
              </button>
              
              <button 
                style={{
                  ...styles.shareButton,
                  backgroundColor: copiedLink ? 'rgba(139, 92, 246, 0.1)' : 'transparent',
                  borderColor: copiedLink ? '#8b5cf6' : 'rgba(255, 255, 255, 0.1)',
                  color: copiedLink ? '#8b5cf6' : 'rgba(255, 255, 255, 0.7)'
                }}
                onClick={() => handleShare('copy')}
              >
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                </svg>
                {copiedLink ? 'Link copied!' : 'Copy link'}
              </button>
            </div>
          </div>
        </footer>
      </article>

      {/* Related Articles */}
      <section style={styles.relatedArticles}>
        <div style={styles.relatedInner}>
          <h2 style={styles.relatedTitle}>Continue Learning</h2>
          <div style={styles.relatedGrid}>
            {relatedArticles.map((article, index) => (
              <article
                key={index}
                style={styles.relatedCard}
                onMouseEnter={(e) => {
                  e.currentTarget.style.borderColor = 'rgba(139, 92, 246, 0.3)';
                  e.currentTarget.style.transform = 'translateY(-4px)';
                }}
                onMouseLeave={(e) => {
                  e.currentTarget.style.borderColor = 'transparent';
                  e.currentTarget.style.transform = 'translateY(0)';
                }}
              >
                <div style={styles.relatedCategory}>{article.category}</div>
                <h3 style={styles.relatedCardTitle}>{article.title}</h3>
                <div style={styles.relatedMeta}>
                  {article.author} · {article.readTime} read
                </div>
              </article>
            ))}
          </div>
        </div>
      </section>

      <style>{`
        @keyframes float {
          0%, 100% { transform: translateY(0) rotate(-5deg); }
          50% { transform: translateY(-10px) rotate(-5deg); }
        }
      `}</style>
    </div>
  );
};

export default EsyArticleView;