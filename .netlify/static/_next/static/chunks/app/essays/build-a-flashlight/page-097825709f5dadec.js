(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6223],{5461:(e,t,s)=>{"use strict";s.d(t,{FlashlightBuilderClient:()=>w});var r=s(95155),a=s(12115),i=s(6874),n=s.n(i);s(41360);let l={red:{id:"red",name:"Red LED",forwardVoltage:2,maxCurrent:30,typicalCurrent:20,colorFactor:.7,wavelength:"625nm",hexColor:"#FF3333",description:"Classic red — lowest voltage requirement, works with most batteries"},yellow:{id:"yellow",name:"Yellow LED",forwardVoltage:2.1,maxCurrent:30,typicalCurrent:20,colorFactor:.85,wavelength:"590nm",hexColor:"#FFCC00",description:"Warm yellow — good visibility, low voltage requirement"},green:{id:"green",name:"Green LED",forwardVoltage:2.2,maxCurrent:30,typicalCurrent:20,colorFactor:1,wavelength:"565nm",hexColor:"#33FF33",description:"Bright green — human eye most sensitive, appears brightest"},blue:{id:"blue",name:"Blue LED",forwardVoltage:3.2,maxCurrent:30,typicalCurrent:20,colorFactor:.5,wavelength:"470nm",hexColor:"#3366FF",description:"Cool blue — needs higher voltage, distinctive color"},white:{id:"white",name:"White LED",forwardVoltage:3.2,maxCurrent:30,typicalCurrent:20,colorFactor:.9,wavelength:"broad",hexColor:"#FFFFFF",description:"Pure white — most practical, needs higher voltage"}},c={"1xAA":{id:"1xAA",name:"Single AA",voltage:1.5,capacity:2500,formFactor:"cylindrical",dimensions:{length:50,diameter:14},weight:23,description:"Compact but low voltage — only works with red/yellow LEDs"},"2xAA":{id:"2xAA",name:"2\xd7 AA (Series)",voltage:3,capacity:2500,formFactor:"cylindrical",dimensions:{length:100,diameter:14},weight:46,description:"Common flashlight config — works with most LEDs"},"3xAA":{id:"3xAA",name:"3\xd7 AA (Series)",voltage:4.5,capacity:2500,formFactor:"cylindrical",dimensions:{length:150,diameter:14},weight:69,description:"High voltage headroom — best efficiency with white/blue LEDs"},CR2032:{id:"CR2032",name:"CR2032 Coin Cell",voltage:3,capacity:220,formFactor:"disc",dimensions:{diameter:20,thickness:3.2},weight:3,description:"Ultra compact — short runtime but very small form factor"},"9V":{id:"9V",name:"9V Battery",voltage:9,capacity:550,formFactor:"rectangular",dimensions:{length:48,width:26,height:17},weight:46,description:"High voltage — significant power lost in resistor"}},o=[47,68,100,150,220,330,470,680,1e3],d={none:{id:"none",name:"No Reflector",factor:.3,beamAngle:120,description:"Raw LED output — very wide, unfocused beam"},textured:{id:"textured",name:"Textured Reflector",factor:.6,beamAngle:60,description:"Flood pattern — even light distribution for close work"},orangePeel:{id:"orangePeel",name:"Orange Peel",factor:1,beamAngle:30,description:"Balanced beam — good spot with smooth edges"},smooth:{id:"smooth",name:"Smooth Parabolic",factor:1.8,beamAngle:10,description:"Tight spot — maximum throw distance, focused beam"},tir:{id:"tir",name:"TIR Optic Lens",factor:2,beamAngle:15,description:"High efficiency optic — crisp beam, minimal spill"}},h={slideBody:{id:"slideBody",name:"Side Slide Switch",position:"body",type:"latching",currentRating:1,description:"Simple on/off — slide to toggle"},pushTail:{id:"pushTail",name:"Tail Push Button",position:"tail",type:"latching",currentRating:2,description:"Tactical style — click on, click off"},momentaryTail:{id:"momentaryTail",name:"Momentary Tail",position:"tail",type:"momentary",currentRating:2,description:"Signaling mode — on only while pressed"},twistHead:{id:"twistHead",name:"Twist Head",position:"head",type:"latching",currentRating:3,description:"Simple twist action — no moving parts exposed"}};function f(e){let{led:t,battery:s,resistor:r,reflector:a}=e.config,i=l[t.color],n=c[s.type],o=d[a.type],h=n.voltage,f=i.forwardVoltage,m=r.value,p=n.capacity;if(h<=f)return{current:0,brightness:0,batteryLife:1/0,efficiency:0,heat:0,beamIntensity:0,score:0,working:!1,error:"Insufficient voltage: ".concat(h,"V battery cannot drive ").concat(f,"V LED")};let b=(h-f)/m*1e3,x=b>i.maxCurrent,g=Math.min(100,Math.min(b,50)/30*i.colorFactor*100),u=b>0?.75*p/b:1/0,v=f/h*100,j=b/1e3*(h-f)*1e3,y=g*o.factor,w=.3*g+.3*Math.min(100,u/100*100)+.2*v+.2*Math.min(100,y);return{current:Math.round(10*b)/10,brightness:Math.round(g),batteryLife:Math.round(u),efficiency:Math.round(v),heat:Math.round(j),beamIntensity:Math.round(y),score:Math.round(w),working:b>0&&!x,error:x?"Overcurrent warning: ".concat(b.toFixed(1),"mA exceeds LED maximum of ").concat(i.maxCurrent,"mA"):void 0}}let m=(()=>{let e={parts:{battery:{id:"battery-1",selected:!1,assembled:!1},led:{id:"led-1",selected:!1,assembled:!1},resistor:{id:"resistor-1",selected:!1,assembled:!1},reflector:{id:"reflector-1",selected:!1,assembled:!1},switch:{id:"switch-1",selected:!1,assembled:!1}},config:{led:{color:"green",forwardVoltage:2.2},battery:{type:"2xAA",voltage:3,capacity:2500},resistor:{value:100},reflector:{type:"orangePeel",beamAngle:30},switch:{type:"pushTail",position:"tail"},tested:!1},connections:[],metrics:{current:0,brightness:0,batteryLife:0,efficiency:0,heat:0,beamIntensity:0,score:0,working:!1},progress:{currentStep:1,completedSteps:[],startedAt:null,completedAt:null},preferences:{reducedMotion:!1,highContrast:!1}};return{...e,metrics:f(e)}})();function p(e,t){let s;switch(t.type){case"SELECT_LED":s={...e,parts:{...e.parts,led:{...e.parts.led,selected:!0}},config:{...e.config,led:{color:t.color,forwardVoltage:t.forwardVoltage}}};break;case"SELECT_BATTERY":s={...e,parts:{...e.parts,battery:{...e.parts.battery,selected:!0}},config:{...e.config,battery:{type:t.batteryType,voltage:t.voltage,capacity:t.capacity}}};break;case"SET_RESISTOR":s={...e,parts:{...e.parts,resistor:{...e.parts.resistor,selected:!0}},config:{...e.config,resistor:{value:t.value}}};break;case"SELECT_REFLECTOR":s={...e,parts:{...e.parts,reflector:{...e.parts.reflector,selected:!0}},config:{...e.config,reflector:{type:t.reflectorType,beamAngle:t.beamAngle}}};break;case"SELECT_SWITCH":s={...e,parts:{...e.parts,switch:{...e.parts.switch,selected:!0}},config:{...e.config,switch:{type:t.switchType,position:t.position}}};break;case"ASSEMBLE_PART":s={...e,parts:{...e.parts,[t.partId]:{...e.parts[t.partId],assembled:!0}}};break;case"ADD_CONNECTION":s={...e,connections:[...e.connections,t.connection]};break;case"TEST_CIRCUIT":s={...e,config:{...e.config,tested:!0}};break;case"SET_STEP":s={...e,progress:{...e.progress,currentStep:t.step,startedAt:e.progress.startedAt||Date.now()}};break;case"COMPLETE_STEP":s={...e,progress:{...e.progress,completedSteps:e.progress.completedSteps.includes(t.stepId)?e.progress.completedSteps:[...e.progress.completedSteps,t.stepId]}};break;case"SET_PREFERENCES":s={...e,preferences:{...e.preferences,...t.preferences}};break;case"RESET":s={...m,preferences:e.preferences};break;case"RESTORE":s=t.state;break;default:s=e}return{...s,metrics:f(s)}}let b="esy-flashlight-builder",x=[{id:"intro",number:1,title:"Meet the Components"},{id:"led",number:2,title:"Choose Your Light"},{id:"battery",number:3,title:"Power Source"},{id:"resistor",number:4,title:"The Sacrifice"},{id:"tradeoff",number:5,title:"The Tradeoff Explorer"},{id:"reflector",number:6,title:"Shaping the Beam"},{id:"switch",number:7,title:"Control"},{id:"test",number:8,title:"Test & Diagnose"},{id:"complete",number:9,title:"Your Flashlight"}];function g(e){let{state:t,isOn:s=!1}=e,{config:a,parts:i,metrics:n}=t,o=l[a.led.color],f=c[a.battery.type],m=d[a.reflector.type],p=h[a.switch.type],b=s&&n.working?20+.3*n.brightness:0,x=s&&n.working?.2+.005*n.brightness:0;return(0,r.jsxs)("svg",{viewBox:"0 0 400 300",className:"fb-digital-twin",role:"img","aria-label":"Digital twin of your flashlight: ".concat(o.name,", ").concat(f.name,", ").concat(m.name),children:[(0,r.jsx)("rect",{x:"0",y:"0",width:"400",height:"300",className:"fb-twin-bg",rx:"12"}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:(0,r.jsx)("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"rgba(79, 209, 197, 0.05)",strokeWidth:"0.5"})}),(0,r.jsxs)("radialGradient",{id:"ledGlow",cx:"50%",cy:"50%",r:"50%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:o.hexColor,stopOpacity:x}),(0,r.jsx)("stop",{offset:"100%",stopColor:o.hexColor,stopOpacity:"0"})]}),(0,r.jsxs)("linearGradient",{id:"batteryGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"#4a4a52"}),(0,r.jsx)("stop",{offset:"50%",stopColor:"#3a3a42"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"#2a2a32"})]}),(0,r.jsxs)("linearGradient",{id:"reflectorGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"#888"}),(0,r.jsx)("stop",{offset:"50%",stopColor:"#aaa"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"#888"})]})]}),(0,r.jsx)("rect",{x:"0",y:"0",width:"400",height:"300",fill:"url(#grid)"}),(0,r.jsxs)("g",{transform:"translate(50, 100)",children:[(0,r.jsxs)("g",{className:"fb-twin-part ".concat(i.battery.assembled?"assembled":"ghosted"),children:[(0,r.jsx)("rect",{x:"20",y:"40",width:"disc"===f.formFactor?60:120,height:"50",rx:"8",fill:"url(#batteryGrad)",stroke:"#555",strokeWidth:"2"}),(0,r.jsx)("rect",{x:"10",y:"55",width:"10",height:"20",rx:"2",fill:"#666"}),"disc"!==f.formFactor&&(0,r.jsx)("rect",{x:"140",y:"55",width:"10",height:"20",rx:"2",fill:"#666"}),(0,r.jsxs)("text",{x:"75",y:"70",textAnchor:"middle",className:"fb-twin-annotation",children:[f.voltage,"V"]})]}),(0,r.jsxs)("g",{className:"fb-twin-part ".concat(i.resistor.assembled?"assembled":"ghosted"),transform:"translate(160, 50)",children:[(0,r.jsx)("rect",{x:"0",y:"10",width:"40",height:"20",rx:"4",fill:"#1a1a22",stroke:"#555",strokeWidth:"1"}),(0,r.jsx)("rect",{x:"8",y:"10",width:"4",height:"20",fill:"#8b4513"}),(0,r.jsx)("rect",{x:"16",y:"10",width:"4",height:"20",fill:"#000"}),(0,r.jsx)("rect",{x:"24",y:"10",width:"4",height:"20",fill:"#ff0000"}),(0,r.jsx)("rect",{x:"32",y:"10",width:"4",height:"20",fill:"#ffd700"}),(0,r.jsxs)("text",{x:"20",y:"-2",textAnchor:"middle",className:"fb-twin-annotation",children:[a.resistor.value,"Ω"]})]}),(0,r.jsxs)("g",{className:"fb-twin-part ".concat(i.led.assembled?"assembled":"ghosted"),transform:"translate(220, 40)",children:[s&&n.working&&(0,r.jsx)("circle",{cx:"25",cy:"25",r:b,fill:"url(#ledGlow)"}),(0,r.jsx)("ellipse",{cx:"25",cy:"25",rx:"20",ry:"25",fill:s&&n.working?o.hexColor:"#2a2a35",stroke:o.hexColor,strokeWidth:"2",style:{filter:s&&n.working?"drop-shadow(0 0 10px ".concat(o.hexColor,")"):"none",transition:"all 0.3s ease"}}),(0,r.jsx)("rect",{x:"10",y:"45",width:"30",height:"10",rx:"2",fill:"#555"}),(0,r.jsx)("text",{x:"25",y:"-8",textAnchor:"middle",className:"fb-twin-annotation",children:o.name})]}),(0,r.jsxs)("g",{className:"fb-twin-part ".concat(i.reflector.assembled?"assembled":"ghosted"),transform:"translate(245, 10)",children:[(0,r.jsx)("path",{d:"M 0 30 Q 30 -10 60 30 L 60 70 Q 30 110 0 70 Z",fill:"none",stroke:"url(#reflectorGrad)",strokeWidth:"3"}),(0,r.jsx)("path",{d:"M 5 35 Q 30 5 55 35",fill:"none",stroke:"#666",strokeWidth:"1"}),(0,r.jsx)("path",{d:"M 5 65 Q 30 95 55 65",fill:"none",stroke:"#666",strokeWidth:"1"}),(0,r.jsxs)("text",{x:"30",y:"105",textAnchor:"middle",className:"fb-twin-annotation",children:[m.beamAngle,"\xb0"]})]}),(0,r.jsx)("g",{className:"fb-twin-part ".concat(i.switch.assembled?"assembled":"ghosted"),transform:"translate(".concat("tail"===p.position?-10:"body"===p.position?70:280,", ").concat("body"===p.position?100:50,")"),children:"pushTail"===p.id||"momentaryTail"===p.id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("circle",{cx:"15",cy:"15",r:"12",fill:"#333",stroke:"#555",strokeWidth:"2"}),(0,r.jsx)("circle",{cx:"15",cy:"15",r:"8",fill:s?"#4fd1c5":"#222"})]}):"slideBody"===p.id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("rect",{x:"0",y:"0",width:"30",height:"15",rx:"3",fill:"#333",stroke:"#555",strokeWidth:"1"}),(0,r.jsx)("rect",{x:s?15:2,y:"2",width:"13",height:"11",rx:"2",fill:s?"#4fd1c5":"#555"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("circle",{cx:"15",cy:"15",r:"10",fill:"none",stroke:"#555",strokeWidth:"2",strokeDasharray:"3 2"}),(0,r.jsx)("path",{d:"M 10 15 L 20 15 M 15 10 L 15 20",stroke:s?"#4fd1c5":"#555",strokeWidth:"2"})]})}),(0,r.jsxs)("g",{className:"fb-twin-wires",children:[(0,r.jsx)("path",{d:"M 150 65 L 160 65",className:"fb-twin-wire ".concat(i.battery.assembled&&i.resistor.assembled?"complete":"")}),(0,r.jsx)("path",{d:"M 200 65 L 220 65",className:"fb-twin-wire ".concat(i.resistor.assembled&&i.led.assembled?"complete":"")}),(0,r.jsx)("path",{d:"M 245 90 L 245 120 L 20 120 L 20 75",className:"fb-twin-wire ".concat(i.led.assembled&&i.switch.assembled?"complete":"")})]})]}),(0,r.jsxs)("g",{transform:"translate(20, 20)",children:[(0,r.jsx)("circle",{cx:"8",cy:"8",r:"6",fill:n.working?"#69db7c":"#ff6b6b"}),(0,r.jsx)("text",{x:"22",y:"12",fill:n.working?"#69db7c":"#ff6b6b",fontSize:"10",fontFamily:"monospace",children:n.working?"CIRCUIT OK":"INCOMPLETE"})]}),s&&n.working&&(0,r.jsxs)("g",{transform:"translate(330, 20)",children:[(0,r.jsxs)("text",{textAnchor:"end",fill:"#ffd43b",fontSize:"12",fontFamily:"monospace",children:[n.current,"mA"]}),(0,r.jsx)("text",{y:"16",textAnchor:"end",fill:"#666",fontSize:"9",fontFamily:"monospace",children:"flowing"})]})]})}function u(e){var t;let{label:s,options:a,selected:i,onSelect:n,renderIcon:l,warning:c}=e;return(0,r.jsxs)("div",{className:"fb-interaction",role:"group","aria-label":s,children:[(0,r.jsxs)("div",{className:"fb-interaction-label",children:[(0,r.jsx)("span",{children:s}),(0,r.jsx)("span",{className:"fb-interaction-value",children:null===(t=a.find(e=>e.id===i))||void 0===t?void 0:t.name})]}),(0,r.jsx)("div",{className:"fb-part-grid",role:"listbox","aria-label":s,children:a.map(e=>(0,r.jsxs)("button",{className:"fb-part-option ".concat(i===e.id?"selected":""),onClick:()=>n(e.id),role:"option","aria-selected":i===e.id,"aria-label":"".concat(e.name,": ").concat(e.description),children:[l?(0,r.jsx)("div",{className:"fb-part-icon",children:l(e)}):e.hexColor?(0,r.jsx)("div",{className:"fb-part-icon",style:{width:48,height:48,borderRadius:"50%",background:e.hexColor,margin:"0 auto 8px",boxShadow:i===e.id?"0 0 20px ".concat(e.hexColor):"none",transition:"box-shadow 0.2s"}}):null,(0,r.jsx)("div",{className:"fb-part-name",children:e.name}),(0,r.jsx)("div",{className:"fb-part-spec",children:e.spec}),(0,r.jsx)("div",{className:"fb-part-desc",children:e.description})]},e.id))}),c&&(0,r.jsxs)("div",{className:"fb-warning",role:"alert",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),(0,r.jsx)("span",{children:c})]})]})}function v(e){let{value:t,onChange:s,idealValue:a,current:i=0,maxCurrent:n=30}=e,l=o.indexOf(t),c=i>n,d=i<5;return(0,r.jsxs)("div",{className:"fb-interaction",children:[(0,r.jsxs)("div",{className:"fb-interaction-label",children:[(0,r.jsx)("span",{children:"Resistor Value"}),(0,r.jsxs)("span",{className:"fb-interaction-value",children:[t,"Ω"]})]}),(0,r.jsxs)("div",{className:"fb-slider-container",children:[(0,r.jsx)("input",{type:"range",className:"fb-slider",min:0,max:o.length-1,value:l>=0?l:2,onChange:e=>{s(o[parseInt(e.target.value,10)])},"aria-label":"Resistor value: ".concat(t," ohms"),"aria-valuemin":o[0],"aria-valuemax":o[o.length-1],"aria-valuenow":t,"aria-valuetext":"".concat(t," ohms, resulting in ").concat(i.toFixed(1)," milliamps")}),(0,r.jsxs)("div",{className:"fb-slider-labels",children:[(0,r.jsxs)("span",{children:[o[0],"Ω (bright)"]}),(0,r.jsxs)("span",{children:[o[o.length-1],"Ω (dim)"]})]})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"var(--fb-spacing-md)",padding:"var(--fb-spacing-sm) var(--fb-spacing-md)",background:"var(--fb-bg-tertiary)",borderRadius:"8px"},children:[(0,r.jsx)("span",{style:{color:"var(--fb-text-muted)",fontSize:"0.875rem"},children:"Current Flow"}),(0,r.jsxs)("span",{style:{fontFamily:"var(--fb-font-mono)",fontSize:"1.25rem",fontWeight:600,color:c?"var(--fb-accent-error)":d?"var(--fb-text-muted)":"var(--fb-accent-warning)"},children:[i.toFixed(1)," mA"]})]}),a&&Math.abs(a-t)>50&&(0,r.jsxs)("div",{style:{marginTop:"var(--fb-spacing-sm)",padding:"var(--fb-spacing-sm) var(--fb-spacing-md)",background:"rgba(79, 209, 197, 0.1)",border:"1px solid var(--fb-accent-primary)",borderRadius:"8px",fontSize:"0.8125rem",color:"var(--fb-accent-primary)"},children:["\uD83D\uDCA1 For optimal brightness at 20mA, try ~",Math.round(a),"Ω"]}),c&&(0,r.jsxs)("div",{className:"fb-error",role:"alert",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),(0,r.jsx)("span",{children:"⚠️ Overcurrent! LED will burn out. Increase resistance."})]}),d&&!c&&i>0&&(0,r.jsxs)("div",{className:"fb-warning",role:"alert",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:(0,r.jsx)("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0z"})}),(0,r.jsx)("span",{children:"Very dim output. Consider lower resistance for more brightness."})]})]})}function j(e){let{metrics:t}=e,{brightness:s,batteryLife:a,efficiency:i,score:n,working:l}=t,c=Math.min(100,a/200*100);return(0,r.jsxs)("div",{className:"fb-interaction",children:[(0,r.jsxs)("div",{className:"fb-interaction-label",children:[(0,r.jsx)("span",{children:"Configuration Tradeoffs"}),(0,r.jsxs)("span",{className:"fb-interaction-value",children:["Score: ",n,"/100"]})]}),l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{position:"relative",width:"100%",height:"200px",marginBottom:"var(--fb-spacing-lg)"},children:(0,r.jsxs)("svg",{viewBox:"0 0 200 180",style:{width:"100%",height:"100%"},children:[(0,r.jsx)("path",{d:"M 100 10 L 190 170 L 10 170 Z",fill:"none",stroke:"var(--fb-border-color)",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M 100 ".concat(10+(100-i)*1.6," \n                    L ").concat(100+s/100*90," ").concat(170-c/100*80," \n                    L ").concat(100-s/100*90," ").concat(170-c/100*80," Z"),fill:"rgba(79, 209, 197, 0.3)",stroke:"var(--fb-accent-primary)",strokeWidth:"2"}),(0,r.jsx)("text",{x:"100",y:"5",textAnchor:"middle",fill:"var(--fb-accent-primary)",fontSize:"10",children:"EFFICIENCY"}),(0,r.jsx)("text",{x:"195",y:"180",textAnchor:"end",fill:"var(--fb-accent-secondary)",fontSize:"10",children:"BRIGHTNESS"}),(0,r.jsx)("text",{x:"5",y:"180",textAnchor:"start",fill:"var(--fb-accent-success)",fontSize:"10",children:"BATTERY LIFE"}),(0,r.jsx)("circle",{cx:"100",cy:"120",r:"4",fill:"var(--fb-text-primary)"})]})}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"var(--fb-spacing-md)"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--fb-spacing-xs)",fontSize:"0.75rem"},children:[(0,r.jsx)("span",{style:{color:"var(--fb-accent-secondary)"},children:"Brightness"}),(0,r.jsxs)("span",{style:{fontFamily:"var(--fb-font-mono)",color:"var(--fb-accent-secondary)"},children:[s,"%"]})]}),(0,r.jsx)("div",{style:{height:"8px",background:"var(--fb-bg-tertiary)",borderRadius:"4px",overflow:"hidden"},children:(0,r.jsx)("div",{style:{width:"".concat(s,"%"),height:"100%",background:"var(--fb-accent-secondary)",transition:"width 0.3s"}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--fb-spacing-xs)",fontSize:"0.75rem"},children:[(0,r.jsx)("span",{style:{color:"var(--fb-accent-success)"},children:"Battery Life"}),(0,r.jsxs)("span",{style:{fontFamily:"var(--fb-font-mono)",color:"var(--fb-accent-success)"},children:[a,"h"]})]}),(0,r.jsx)("div",{style:{height:"8px",background:"var(--fb-bg-tertiary)",borderRadius:"4px",overflow:"hidden"},children:(0,r.jsx)("div",{style:{width:"".concat(c,"%"),height:"100%",background:"var(--fb-accent-success)",transition:"width 0.3s"}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--fb-spacing-xs)",fontSize:"0.75rem"},children:[(0,r.jsx)("span",{style:{color:"var(--fb-accent-primary)"},children:"Efficiency"}),(0,r.jsxs)("span",{style:{fontFamily:"var(--fb-font-mono)",color:"var(--fb-accent-primary)"},children:[i,"%"]})]}),(0,r.jsx)("div",{style:{height:"8px",background:"var(--fb-bg-tertiary)",borderRadius:"4px",overflow:"hidden"},children:(0,r.jsx)("div",{style:{width:"".concat(i,"%"),height:"100%",background:"var(--fb-accent-primary)",transition:"width 0.3s"}})})]})]}),(0,r.jsxs)("div",{className:"fb-notice",style:{marginTop:"var(--fb-spacing-lg)",marginBottom:0},children:[(0,r.jsx)("div",{className:"fb-notice-label",children:"The Engineering Reality"}),(0,r.jsx)("p",{children:s>=70&&a<50?"You've optimized for brightness. Great for short bursts, but keep spare batteries handy.":a>=100&&s<40?"You've prioritized runtime. Perfect for emergencies or camping where brightness matters less.":i>=70?"Your circuit is highly efficient — minimal power wasted as heat in the resistor.":"A balanced configuration. Jack of all trades, master of none — sometimes that's exactly right."})]})]}):(0,r.jsx)("div",{style:{padding:"var(--fb-spacing-xl)",textAlign:"center",color:"var(--fb-text-muted)"},children:(0,r.jsx)("p",{children:"Complete your circuit to see tradeoffs"})})]})}function y(e){let{state:t,onReset:s,onExport:a}=e,{config:i,metrics:n}=t,o=l[i.led.color],f=c[i.battery.type],m=d[i.reflector.type],p=h[i.switch.type],b=function(e){if(!e.working)return"Not Working";let{brightness:t,batteryLife:s,efficiency:r}=e;return t>=70&&s<50?"The Spotlight":s>=150&&t<40?"The Marathon Runner":r>=70&&t>=50?"The Efficient":t>=50&&s>=80?"The Balanced":t<30?"The Dim Survivor":"Custom Build"}(n),x=t.progress.completedAt&&t.progress.startedAt?Math.round((t.progress.completedAt-t.progress.startedAt)/1e3/60):null;return(0,r.jsxs)("div",{className:"fb-artifact-card",children:[(0,r.jsxs)("div",{className:"fb-artifact-header",children:[(0,r.jsx)("div",{className:"fb-artifact-label",children:"Your Creation"}),(0,r.jsx)("h2",{className:"fb-artifact-title",children:b}),(0,r.jsxs)("div",{className:"fb-score-badge",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:"16",height:"16",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z",clipRule:"evenodd"})}),"Score: ",n.score,"/100"]})]}),(0,r.jsxs)("div",{className:"fb-artifact-stats",children:[(0,r.jsxs)("div",{className:"fb-artifact-stat",children:[(0,r.jsxs)("div",{className:"fb-artifact-stat-value",style:{color:"var(--fb-accent-secondary)"},children:[n.brightness,"%"]}),(0,r.jsx)("div",{className:"fb-artifact-stat-label",children:"Brightness"})]}),(0,r.jsxs)("div",{className:"fb-artifact-stat",children:[(0,r.jsxs)("div",{className:"fb-artifact-stat-value",style:{color:"var(--fb-accent-success)"},children:[n.batteryLife,"h"]}),(0,r.jsx)("div",{className:"fb-artifact-stat-label",children:"Runtime"})]}),(0,r.jsxs)("div",{className:"fb-artifact-stat",children:[(0,r.jsxs)("div",{className:"fb-artifact-stat-value",style:{color:"var(--fb-accent-primary)"},children:[n.efficiency,"%"]}),(0,r.jsx)("div",{className:"fb-artifact-stat-label",children:"Efficiency"})]}),(0,r.jsxs)("div",{className:"fb-artifact-stat",children:[(0,r.jsx)("div",{className:"fb-artifact-stat-value",style:{color:"var(--fb-accent-warning)"},children:n.beamIntensity}),(0,r.jsx)("div",{className:"fb-artifact-stat-label",children:"Beam Power"})]})]}),(0,r.jsxs)("div",{className:"fb-artifact-config",children:[(0,r.jsx)("div",{className:"fb-artifact-config-title",children:"Configuration"}),(0,r.jsxs)("div",{className:"fb-artifact-config-item",children:[(0,r.jsx)("span",{children:"LED"}),(0,r.jsxs)("span",{children:[o.name," (",o.forwardVoltage,"V)"]})]}),(0,r.jsxs)("div",{className:"fb-artifact-config-item",children:[(0,r.jsx)("span",{children:"Battery"}),(0,r.jsxs)("span",{children:[f.name," (",f.voltage,"V)"]})]}),(0,r.jsxs)("div",{className:"fb-artifact-config-item",children:[(0,r.jsx)("span",{children:"Resistor"}),(0,r.jsxs)("span",{children:[i.resistor.value,"Ω"]})]}),(0,r.jsxs)("div",{className:"fb-artifact-config-item",children:[(0,r.jsx)("span",{children:"Reflector"}),(0,r.jsxs)("span",{children:[m.name," (",m.beamAngle,"\xb0)"]})]}),(0,r.jsxs)("div",{className:"fb-artifact-config-item",children:[(0,r.jsx)("span",{children:"Switch"}),(0,r.jsx)("span",{children:p.name})]}),(0,r.jsxs)("div",{className:"fb-artifact-config-item",children:[(0,r.jsx)("span",{children:"Current Draw"}),(0,r.jsxs)("span",{children:[n.current,"mA"]})]}),x&&(0,r.jsxs)("div",{className:"fb-artifact-config-item",children:[(0,r.jsx)("span",{children:"Build Time"}),(0,r.jsxs)("span",{children:[x," min"]})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"var(--fb-spacing-md)",marginTop:"var(--fb-spacing-lg)",justifyContent:"center",flexWrap:"wrap"},children:[(0,r.jsxs)("button",{className:"fb-button",onClick:a,"aria-label":"Export configuration as JSON",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:"16",height:"16",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Export Config"]}),(0,r.jsxs)("button",{className:"fb-button fb-button-secondary",onClick:s,"aria-label":"Reset and build another",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:"16",height:"16",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0v2.43l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z",clipRule:"evenodd"})}),"Build Another"]})]}),(0,r.jsxs)("div",{className:"fb-notice",style:{marginTop:"var(--fb-spacing-xl)",marginBottom:0},children:[(0,r.jsx)("div",{className:"fb-notice-label",children:"What You Learned"}),(0,r.jsxs)("p",{style:{marginBottom:"var(--fb-spacing-sm)"},children:["You applied ",(0,r.jsx)("strong",{children:"Ohm's Law"})," (V=IR) to calculate the resistor needed for your LED."]}),(0,r.jsxs)("p",{style:{marginBottom:"var(--fb-spacing-sm)"},children:["You discovered the ",(0,r.jsx)("strong",{children:"fundamental tradeoff"})," between brightness and battery life."]}),(0,r.jsxs)("p",{style:{marginBottom:0},children:["You experienced how ",(0,r.jsx)("strong",{children:"component choices cascade"})," — the LED voltage determines which batteries work, which determines the resistor needed."]})]})]})}function w(){let[e,t]=(0,a.useReducer)(p,m),[s,i]=(0,a.useState)(!1),[o,f]=(0,a.useState)(new Set),w=(0,a.useRef)(new Map),N=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=function(){try{let e=localStorage.getItem(b);return e?JSON.parse(e):null}catch(e){return null}}();e&&t({type:"RESTORE",state:e})},[]),(0,a.useEffect)(()=>{!function(e){try{localStorage.setItem(b,JSON.stringify(e))}catch(e){console.warn("Could not save state to localStorage")}}(e)},[e]),(0,a.useEffect)(()=>{let e=["intro","tradeoff","complete"],s=new IntersectionObserver(s=>{s.forEach(s=>{let r=s.target.getAttribute("data-section");r&&f(a=>{let i=new Set(a);return s.isIntersecting&&(i.add(r),e.includes(r)&&t({type:"COMPLETE_STEP",stepId:r})),i})})},{threshold:.3,rootMargin:"-100px 0px -100px 0px"});return w.current.forEach(e=>s.observe(e)),()=>s.disconnect()},[]),(0,a.useEffect)(()=>{let e=window.matchMedia("(prefers-reduced-motion: reduce)");t({type:"SET_PREFERENCES",preferences:{reducedMotion:e.matches}});let s=e=>{t({type:"SET_PREFERENCES",preferences:{reducedMotion:e.matches}})};return e.addEventListener("change",s),()=>e.removeEventListener("change",s)},[]);let E=e.progress.completedSteps.length/x.length*100,C=(0,a.useCallback)(e=>{let s=l[e];t({type:"SELECT_LED",color:e,forwardVoltage:s.forwardVoltage}),t({type:"ASSEMBLE_PART",partId:"led"}),t({type:"COMPLETE_STEP",stepId:"led"})},[]),T=(0,a.useCallback)(e=>{let s=c[e];t({type:"SELECT_BATTERY",batteryType:e,voltage:s.voltage,capacity:s.capacity}),t({type:"ASSEMBLE_PART",partId:"battery"}),t({type:"COMPLETE_STEP",stepId:"battery"})},[]),S=(0,a.useCallback)(e=>{t({type:"SET_RESISTOR",value:e}),t({type:"ASSEMBLE_PART",partId:"resistor"}),t({type:"COMPLETE_STEP",stepId:"resistor"})},[]),k=(0,a.useCallback)(e=>{let s=d[e];t({type:"SELECT_REFLECTOR",reflectorType:e,beamAngle:s.beamAngle}),t({type:"ASSEMBLE_PART",partId:"reflector"}),t({type:"COMPLETE_STEP",stepId:"reflector"})},[]),L=(0,a.useCallback)(e=>{let s=h[e];t({type:"SELECT_SWITCH",switchType:e,position:s.position}),t({type:"ASSEMBLE_PART",partId:"switch"}),t({type:"COMPLETE_STEP",stepId:"switch"})},[]),R=(0,a.useCallback)(()=>{!function(){try{localStorage.removeItem(b)}catch(e){}}(),t({type:"RESET"}),i(!1),window.scrollTo({top:0,behavior:"smooth"})},[]),A=(0,a.useCallback)(()=>{let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download="my-flashlight-config.json",r.click(),URL.revokeObjectURL(s)},[e]),M=function(e,t){let s=c[e],r=l[t],a=s.voltage-r.forwardVoltage;return a<=0?{canDrive:!1,margin:a,warning:"".concat(s.voltage,"V is not enough to drive a ").concat(r.forwardVoltage,"V ").concat(r.name)}:a<.3?{canDrive:!0,margin:a,warning:"Marginal: only ".concat(a.toFixed(1),"V headroom — LED will be dim")}:{canDrive:!0,margin:a}}(e.config.battery.type,e.config.led.color),B=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=c[e],a=l[t],i=r.voltage-a.forwardVoltage;return i<=0?1/0:i/(s/1e3)}(e.config.battery.type,e.config.led.color,20),F=e=>t=>{t&&w.current.set(e,t)},I=Object.entries(l).map(e=>{let[t,s]=e;return{id:t,name:s.name,spec:"".concat(s.forwardVoltage,"V"),description:s.description,hexColor:s.hexColor}}),O=Object.entries(c).map(e=>{let[t,s]=e;return{id:t,name:s.name,spec:"".concat(s.voltage,"V / ").concat(s.capacity,"mAh"),description:s.description}}),D=Object.entries(d).map(e=>{let[t,s]=e;return{id:t,name:s.name,spec:"".concat(s.beamAngle,"\xb0 beam"),description:s.description}}),V=Object.entries(h).map(e=>{let[t,s]=e;return{id:t,name:s.name,spec:s.position,description:s.description}});return(0,r.jsxs)("main",{className:"flashlight-builder",children:[(0,r.jsx)("div",{className:"fb-progress",role:"progressbar","aria-valuenow":E,"aria-valuemin":0,"aria-valuemax":100,children:(0,r.jsx)("div",{className:"fb-progress-bar",style:{width:"".concat(E,"%")}})}),(0,r.jsxs)("header",{className:"fb-header",children:[(0,r.jsx)("span",{className:"fb-header-title",children:"Build-A-Light"}),(0,r.jsxs)("span",{className:"fb-header-meta",children:[e.progress.completedSteps.length,"/",x.length]})]}),(0,r.jsxs)("section",{className:"fb-hero","aria-labelledby":"hero-title",children:[(0,r.jsx)("span",{className:"fb-hero-badge",children:"Interactive Build"}),(0,r.jsxs)("h1",{id:"hero-title",className:"fb-hero-title",children:["Build Your Own",(0,r.jsx)("br",{}),"LED Flashlight"]}),(0,r.jsx)("p",{className:"fb-hero-subtitle",children:"Choose components, understand the tradeoffs, and create a working digital flashlight. Your decisions shape the final artifact."}),(0,r.jsxs)("div",{className:"fb-scroll-indicator","aria-hidden":"true",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})}),"Scroll to begin"]})]}),(0,r.jsx)("div",{className:"fb-viewport-container",ref:N,children:(0,r.jsxs)("div",{className:"fb-viewport",children:[(0,r.jsx)(g,{state:e,isOn:s}),(0,r.jsxs)("div",{className:"fb-metrics",children:[(0,r.jsxs)("div",{className:"fb-metric",children:[(0,r.jsxs)("div",{className:"fb-metric-value brightness",children:[e.metrics.brightness,"%"]}),(0,r.jsx)("div",{className:"fb-metric-label",children:"Brightness"})]}),(0,r.jsxs)("div",{className:"fb-metric",children:[(0,r.jsxs)("div",{className:"fb-metric-value battery",children:[e.metrics.batteryLife,"h"]}),(0,r.jsx)("div",{className:"fb-metric-label",children:"Runtime"})]}),(0,r.jsxs)("div",{className:"fb-metric",children:[(0,r.jsxs)("div",{className:"fb-metric-value efficiency",children:[e.metrics.efficiency,"%"]}),(0,r.jsx)("div",{className:"fb-metric-label",children:"Efficiency"})]})]})]})}),(0,r.jsxs)("div",{className:"fb-content",children:[(0,r.jsxs)("section",{ref:F("intro"),"data-section":"intro",className:"fb-section ".concat(o.has("intro")?"visible":""),"aria-labelledby":"step-1-title",children:[(0,r.jsxs)("div",{className:"fb-step-header",children:[(0,r.jsx)("span",{className:"fb-step-number",children:"1"}),(0,r.jsx)("h2",{id:"step-1-title",className:"fb-step-title",children:"Meet the Components"})]}),(0,r.jsxs)("div",{className:"fb-prose",children:[(0,r.jsxs)("p",{children:["Every flashlight is a story of ",(0,r.jsx)("em",{children:"electrons seeking ground"}),". Before we build, let's understand what we're working with."]}),(0,r.jsxs)("p",{children:["Our flashlight needs five components: a ",(0,r.jsx)("strong",{children:"battery"})," (the source), an ",(0,r.jsx)("strong",{children:"LED"})," ","(the light), a ",(0,r.jsx)("strong",{children:"resistor"})," (the sacrifice), a ",(0,r.jsx)("strong",{children:"reflector"})," (the shaper), and a ",(0,r.jsx)("strong",{children:"switch"})," (the gate)."]}),(0,r.jsx)("p",{children:"Each choice you make will ripple through the system. Choose a blue LED? You'll need more voltage. Pick a tiny coin cell? Runtime shrinks. There are no wrong answers—only tradeoffs."})]}),(0,r.jsxs)("div",{className:"fb-notice",children:[(0,r.jsx)("div",{className:"fb-notice-label",children:"Notice This"}),(0,r.jsx)("p",{children:"The digital twin above updates in real-time as you make choices. Watch how components appear and metrics change."})]})]}),(0,r.jsxs)("section",{ref:F("led"),"data-section":"led",className:"fb-section ".concat(o.has("led")?"visible":""),"aria-labelledby":"step-2-title",children:[(0,r.jsxs)("div",{className:"fb-step-header",children:[(0,r.jsx)("span",{className:"fb-step-number",children:"2"}),(0,r.jsx)("h2",{id:"step-2-title",className:"fb-step-title",children:"Choose Your Light"})]}),(0,r.jsxs)("div",{className:"fb-prose",children:[(0,r.jsxs)("p",{children:["The LED is the heart of your flashlight. Each color isn't just aesthetics—it's physics. The"," ",(0,r.jsx)("em",{children:"forward voltage"})," tells you the minimum voltage needed to make it glow."]}),(0,r.jsx)("p",{children:"Red LEDs are easy to drive (2.0V), while white and blue demand more (3.2V). Your battery choice later will need to meet or exceed this voltage."})]}),(0,r.jsx)(u,{label:"Select LED Color",options:I,selected:e.config.led.color,onSelect:C}),(0,r.jsxs)("div",{className:"fb-notice",children:[(0,r.jsx)("div",{className:"fb-notice-label",children:"Notice This"}),(0,r.jsx)("p",{children:'Green LEDs appear brightest to human eyes—our sensitivity peaks around 555nm. The "color factor" adjusts perceived brightness accordingly.'})]})]}),(0,r.jsxs)("section",{ref:F("battery"),"data-section":"battery",className:"fb-section ".concat(o.has("battery")?"visible":""),"aria-labelledby":"step-3-title",children:[(0,r.jsxs)("div",{className:"fb-step-header",children:[(0,r.jsx)("span",{className:"fb-step-number",children:"3"}),(0,r.jsx)("h2",{id:"step-3-title",className:"fb-step-title",children:"Power Source"})]}),(0,r.jsxs)("div",{className:"fb-prose",children:[(0,r.jsxs)("p",{children:["Your ",l[e.config.led.color].name," needs at least"," ",(0,r.jsxs)("strong",{children:[l[e.config.led.color].forwardVoltage,"V"]})," to light up. Choose a battery that can deliver."]}),(0,r.jsx)("p",{children:"More voltage gives you headroom for the resistor to work. More capacity (mAh) means longer runtime. But more batteries means more weight."})]}),(0,r.jsx)(u,{label:"Select Battery",options:O,selected:e.config.battery.type,onSelect:T,warning:M.canDrive?void 0:M.warning})]}),(0,r.jsxs)("section",{ref:F("resistor"),"data-section":"resistor",className:"fb-section ".concat(o.has("resistor")?"visible":""),"aria-labelledby":"step-4-title",children:[(0,r.jsxs)("div",{className:"fb-step-header",children:[(0,r.jsx)("span",{className:"fb-step-number",children:"4"}),(0,r.jsx)("h2",{id:"step-4-title",className:"fb-step-title",children:"The Sacrifice"})]}),(0,r.jsxs)("div",{className:"fb-prose",children:[(0,r.jsxs)("p",{children:["Here's the cruel truth: LEDs are ",(0,r.jsx)("em",{children:"greedy"}),". Given unlimited current, they'd consume everything and burn out instantly."]}),(0,r.jsxs)("p",{children:["The resistor is the sacrifice. It absorbs excess voltage as heat, limiting current to a safe level. This is ",(0,r.jsx)("strong",{children:"Ohm's Law"})," in action: I = (V_source - V_led) / R."]}),(0,r.jsx)("p",{children:"Lower resistance → more current → brighter light → shorter battery life (and risk of burning the LED)."})]}),(0,r.jsx)(v,{value:e.config.resistor.value,onChange:S,idealValue:B,current:e.metrics.current,maxCurrent:l[e.config.led.color].maxCurrent}),(0,r.jsxs)("div",{className:"fb-notice",children:[(0,r.jsx)("div",{className:"fb-notice-label",children:"Notice This"}),(0,r.jsxs)("p",{children:["The ideal resistor for 20mA (typical LED brightness) with your current setup is ~",Math.round(B),"Ω. Experiment with values above and below to see the effect."]})]})]}),(0,r.jsxs)("section",{ref:F("tradeoff"),"data-section":"tradeoff",className:"fb-section ".concat(o.has("tradeoff")?"visible":""),"aria-labelledby":"step-5-title",children:[(0,r.jsxs)("div",{className:"fb-step-header",children:[(0,r.jsx)("span",{className:"fb-step-number",children:"5"}),(0,r.jsx)("h2",{id:"step-5-title",className:"fb-step-title",children:"The Tradeoff Triangle"})]}),(0,r.jsx)("div",{className:"fb-prose",children:(0,r.jsx)("p",{children:"Engineering is about tradeoffs. You can't maximize everything. This triangle shows where your current configuration lands."})}),(0,r.jsx)(j,{metrics:e.metrics})]}),(0,r.jsxs)("section",{ref:F("reflector"),"data-section":"reflector",className:"fb-section ".concat(o.has("reflector")?"visible":""),"aria-labelledby":"step-6-title",children:[(0,r.jsxs)("div",{className:"fb-step-header",children:[(0,r.jsx)("span",{className:"fb-step-number",children:"6"}),(0,r.jsx)("h2",{id:"step-6-title",className:"fb-step-title",children:"Shaping the Beam"})]}),(0,r.jsxs)("div",{className:"fb-prose",children:[(0,r.jsx)("p",{children:"LEDs emit light in a wide cone. The reflector focuses that cone into a useful beam. Tighter beams throw farther but illuminate less area."}),(0,r.jsx)("p",{children:'A smooth parabolic reflector creates a tight "hotspot" for distance. Orange peel texture smooths the beam for close-up work.'})]}),(0,r.jsx)(u,{label:"Select Reflector",options:D,selected:e.config.reflector.type,onSelect:k})]}),(0,r.jsxs)("section",{ref:F("switch"),"data-section":"switch",className:"fb-section ".concat(o.has("switch")?"visible":""),"aria-labelledby":"step-7-title",children:[(0,r.jsxs)("div",{className:"fb-step-header",children:[(0,r.jsx)("span",{className:"fb-step-number",children:"7"}),(0,r.jsx)("h2",{id:"step-7-title",className:"fb-step-title",children:"Control"})]}),(0,r.jsxs)("div",{className:"fb-prose",children:[(0,r.jsx)("p",{children:"The switch is your interface—how you command the light. Position affects ergonomics. Type affects behavior."}),(0,r.jsx)("p",{children:'Tail switches enable tactical "cigar grip" operation. Side switches work well for everyday use. Twist-heads are waterproof but slower to operate.'})]}),(0,r.jsx)(u,{label:"Select Switch",options:V,selected:e.config.switch.type,onSelect:L})]}),(0,r.jsxs)("section",{ref:F("test"),"data-section":"test",className:"fb-section ".concat(o.has("test")?"visible":""),"aria-labelledby":"step-8-title",children:[(0,r.jsxs)("div",{className:"fb-step-header",children:[(0,r.jsx)("span",{className:"fb-step-number",children:"8"}),(0,r.jsx)("h2",{id:"step-8-title",className:"fb-step-title",children:"Test & Diagnose"})]}),(0,r.jsx)("div",{className:"fb-prose",children:(0,r.jsx)("p",{children:"Your circuit is complete. Time to flip the switch and see if your choices work together."})}),(0,r.jsxs)("div",{className:"fb-interaction",style:{textAlign:"center"},children:[(0,r.jsx)("button",{className:"fb-button",onClick:()=>{i(!s),t({type:"TEST_CIRCUIT"}),t({type:"COMPLETE_STEP",stepId:"test"})},"aria-pressed":s,"aria-label":s?"Turn flashlight off":"Turn flashlight on",style:{background:s?"var(--fb-accent-secondary)":"var(--fb-accent-primary)",minWidth:"200px"},children:s?"Turn Off":"Turn On"}),s&&!e.metrics.working&&(0,r.jsx)("div",{className:"fb-error",style:{marginTop:"var(--fb-spacing-md)"},children:(0,r.jsx)("span",{children:e.metrics.error||"Circuit not working. Check your component compatibility."})}),s&&e.metrics.working&&(0,r.jsxs)("div",{style:{marginTop:"var(--fb-spacing-md)",padding:"var(--fb-spacing-md)",background:"rgba(105, 219, 124, 0.1)",border:"1px solid var(--fb-accent-success)",borderRadius:"8px",color:"var(--fb-accent-success)"},children:["✓ It works! Your flashlight produces ",e.metrics.brightness,"% brightness."]})]})]}),(0,r.jsxs)("section",{ref:F("complete"),"data-section":"complete",className:"fb-section ".concat(o.has("complete")?"visible":""),"aria-labelledby":"step-9-title",children:[(0,r.jsxs)("div",{className:"fb-step-header",children:[(0,r.jsx)("span",{className:"fb-step-number",children:"9"}),(0,r.jsx)("h2",{id:"step-9-title",className:"fb-step-title",children:"Your Flashlight"})]}),(0,r.jsx)("div",{className:"fb-prose",children:(0,r.jsx)("p",{children:"You've built something real—a configuration that reflects your priorities. Export it, share it, or start over and explore different tradeoffs."})}),(0,r.jsx)(y,{state:e,onReset:R,onExport:A})]})]}),(0,r.jsx)("noscript",{children:(0,r.jsxs)("div",{className:"fb-fallback",children:[(0,r.jsx)("h2",{children:"JavaScript Required"}),(0,r.jsx)("p",{children:"This interactive experience requires JavaScript. Please enable JavaScript or view our static essays instead."}),(0,r.jsx)(n(),{href:"/essays",children:"Browse Essays"})]})})]})}},41360:()=>{},92526:(e,t,s)=>{Promise.resolve().then(s.bind(s,5461))}},e=>{var t=t=>e(e.s=t);e.O(0,[1985,6874,8441,1684,7358],()=>t(92526)),_N_E=e.O()}]);