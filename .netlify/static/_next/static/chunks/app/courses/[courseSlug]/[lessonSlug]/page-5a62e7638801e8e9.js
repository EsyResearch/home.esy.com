(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5398],{2689:()=>{},17241:(e,t,r)=>{Promise.resolve().then(r.bind(r,90778))},90778:(e,t,r)=>{"use strict";r.d(t,{default:()=>ee});var s=r(95155),n=r(12115),o=r(35695),l=r(62098),i=r(93509),a=r(57434),c=r(66474),d=r(74783),u=r(34861),g=r(16559),m=r(74311),p=r(91981),x=r(42355),h=r(13052),b=r(71007),f=r(69074),y=r(14186),j=r(51154),v=r(40133),k=r(85690),C=r(9389),F=r(82178),S=r(96675),w=r(9771),A=r(15273),z=r(74575),E=r(45024),L=r(43900),T=r(57918);function R(e){let t=Math.floor(e/60),r=Math.floor(e%60);return"".concat(t,":").concat(r.toString().padStart(2,"0"))}let M=(0,n.forwardRef)((e,t)=>{let{src:r,title:o,author:l,durationLabel:i,publishedAt:a,onTimeUpdate:c,initialTimeMs:d,isDark:u}=e,g=(0,n.useRef)(null),m=(0,n.useRef)(null),[p,x]=(0,n.useState)(!1),[h,b]=(0,n.useState)(0),[f,y]=(0,n.useState)(0),[M,D]=(0,n.useState)(1),[N,W]=(0,n.useState)(!1),[B,P]=(0,n.useState)(1),[H,O]=(0,n.useState)(!1),[_,V]=(0,n.useState)(!1),[X,U]=(0,n.useState)(0),[J,Y]=(0,n.useState)(!0),[q,$]=(0,n.useState)(!1),[G,K]=(0,n.useState)(0),[Q,Z]=(0,n.useState)(null),[ee,et]=(0,n.useState)(0),er=(0,n.useRef)(null);(0,n.useImperativeHandle)(t,()=>({seekTo:e=>{g.current&&(g.current.currentTime=e/1e3)},getCurrentTimeMs:()=>g.current?1e3*g.current.currentTime:0,play:()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.play()},pause:()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.pause()}})),(0,n.useEffect)(()=>{d&&d>0&&g.current&&(K(d),$(!0))},[d]);let es=(0,n.useCallback)(()=>{g.current&&(g.current.currentTime=G/1e3,g.current.play(),$(!1))},[G]);(0,n.useEffect)(()=>{let e=g.current;if(!e)return;let t=()=>{b(e.currentTime),null==c||c(1e3*e.currentTime),e.buffered.length>0&&U(e.buffered.end(e.buffered.length-1))},r=()=>{y(e.duration),Y(!1)},s=()=>x(!0),n=()=>x(!1),o=()=>Y(!0),l=()=>Y(!1);return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",r),e.addEventListener("play",s),e.addEventListener("pause",n),e.addEventListener("waiting",o),e.addEventListener("canplay",l),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",r),e.removeEventListener("play",s),e.removeEventListener("pause",n),e.removeEventListener("waiting",o),e.removeEventListener("canplay",l)}},[c]);let en=(0,n.useCallback)(()=>{let e=g.current;e&&(e.paused?(e.play(),$(!1)):e.pause())},[]),eo=(0,n.useCallback)(e=>{g.current&&(g.current.currentTime+=e)},[]),el=(0,n.useCallback)(e=>{if(!m.current||!g.current)return;let t=m.current.getBoundingClientRect(),r=Math.max(0,Math.min(1,(e.clientX-t.left)/t.width));g.current.currentTime=r*f},[f]),ei=(0,n.useCallback)(e=>{if(!m.current)return;let t=m.current.getBoundingClientRect();Z(Math.max(0,Math.min(1,(e.clientX-t.left)/t.width))*f),et(e.clientX-t.left)},[f]),ea=(0,n.useCallback)(()=>{er.current&&(document.fullscreenElement?(document.exitFullscreen(),V(!1)):(er.current.requestFullscreen(),V(!0)))},[]),ec=(0,n.useCallback)(async()=>{if(g.current)try{document.pictureInPictureElement?await document.exitPictureInPicture():await g.current.requestPictureInPicture()}catch(e){}},[]),ed=(0,n.useCallback)(()=>{let e=Math.floor(h),t=new URL(window.location.href);t.searchParams.set("t",e.toString()),navigator.clipboard.writeText(t.toString())},[h]),eu=f>0?h/f*100:0,eg=f>0?X/f*100:0,em=u?"#00D4AA":"#00A896",ep=u?"#0A2540":"#000000",ex=u?"rgba(10, 37, 64, 0.9)":"rgba(0, 0, 0, 0.85)",eh="#FFFFFF";return(0,n.useEffect)(()=>{let e=e=>{if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement))switch(e.key){case" ":case"k":e.preventDefault(),en();break;case"ArrowLeft":e.preventDefault(),eo(-10);break;case"ArrowRight":e.preventDefault(),eo(10);break;case"f":e.preventDefault(),ea();break;case"m":e.preventDefault(),W(e=>!e)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[en,eo,ea]),(0,s.jsxs)("div",{ref:er,style:{position:"relative",width:"100%",aspectRatio:"16/9",backgroundColor:ep,borderRadius:_?0:"12px",overflow:"hidden"},role:"region","aria-label":"Video player: ".concat(o),children:[(0,s.jsx)("video",{ref:g,src:r,style:{width:"100%",height:"100%",objectFit:"contain",display:"block"},onClick:en,playsInline:!0,preload:"metadata",muted:N}),J&&(0,s.jsx)("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.3)"},children:(0,s.jsx)(j.A,{size:40,color:em,style:{animation:"spin 1s linear infinite"}})}),q&&!p&&(0,s.jsxs)("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.6)",zIndex:5},children:[(0,s.jsxs)("button",{onClick:es,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:em,border:"none",borderRadius:"8px",color:"#0A2540",fontSize:"0.938rem",fontWeight:600,cursor:"pointer"},"aria-label":"Resume at ".concat(R(G/1e3)),children:[(0,s.jsx)(v.A,{size:16}),"Resume at ",R(G/1e3)]}),(0,s.jsx)("button",{onClick:()=>{$(!1),en()},style:{marginTop:"0.75rem",padding:"0.5rem 1rem",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"6px",color:eh,fontSize:"0.813rem",cursor:"pointer"},children:"Start from beginning"})]}),!p&&!q&&!J&&(0,s.jsx)("div",{onClick:en,style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.2)",cursor:"pointer"},children:(0,s.jsx)("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:em,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(k.A,{size:28,color:"#0A2540",fill:"#0A2540",style:{marginLeft:"3px"}})})}),(0,s.jsxs)("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, ".concat(ex,")"),padding:"2rem 0.75rem 0.5rem",transition:"opacity 0.2s"},children:[(0,s.jsxs)("div",{ref:m,onClick:el,onMouseMove:ei,onMouseLeave:()=>Z(null),style:{width:"100%",height:"4px",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"2px",cursor:"pointer",position:"relative",marginBottom:"0.5rem"},role:"slider","aria-label":"Video progress","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(eu),children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"".concat(eg,"%"),backgroundColor:"rgba(255,255,255,0.15)",borderRadius:"2px"}}),(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"".concat(eu,"%"),backgroundColor:em,borderRadius:"2px",transition:"width 0.1s linear"}}),(0,s.jsx)("div",{style:{position:"absolute",top:"50%",left:"".concat(eu,"%"),width:"12px",height:"12px",borderRadius:"50%",backgroundColor:em,transform:"translate(-50%, -50%)"}}),null!==Q&&(0,s.jsx)("div",{style:{position:"absolute",bottom:"16px",left:"".concat(ee,"px"),transform:"translateX(-50%)",padding:"2px 6px",background:"rgba(0,0,0,0.8)",borderRadius:"4px",fontSize:"0.75rem",color:eh,whiteSpace:"nowrap"},children:R(Q)})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.25rem"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,s.jsx)(I,{onClick:()=>eo(-10),label:"Skip back 10 seconds",isDark:u,children:(0,s.jsx)(C.A,{size:16})}),(0,s.jsx)(I,{onClick:en,label:p?"Pause":"Play",isDark:u,children:p?(0,s.jsx)(F.A,{size:18}):(0,s.jsx)(k.A,{size:18,style:{marginLeft:"2px"}})}),(0,s.jsx)(I,{onClick:()=>eo(10),label:"Skip forward 10 seconds",isDark:u,children:(0,s.jsx)(S.A,{size:16})}),(0,s.jsx)(I,{onClick:()=>W(e=>!e),label:N?"Unmute":"Mute",isDark:u,children:N?(0,s.jsx)(w.A,{size:16}):(0,s.jsx)(A.A,{size:16})}),(0,s.jsxs)("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.6)",marginLeft:"0.5rem",fontVariantNumeric:"tabular-nums"},children:[R(h)," / ",R(f)]})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",position:"relative"},children:[(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)(I,{onClick:()=>O(e=>!e),label:"Playback speed",isDark:u,children:(0,s.jsxs)("span",{style:{fontSize:"0.688rem",fontWeight:600},children:[B,"x"]})}),H&&(0,s.jsx)("div",{style:{position:"absolute",bottom:"100%",right:0,background:ex,backdropFilter:"blur(10px)",borderRadius:"8px",padding:"0.25rem",marginBottom:"4px",border:"1px solid rgba(255,255,255,0.1)"},children:[.5,.75,1,1.25,1.5,2].map(e=>(0,s.jsxs)("button",{onClick:()=>{P(e),g.current&&(g.current.playbackRate=e),O(!1)},style:{display:"block",width:"100%",padding:"0.375rem 1rem",background:e===B?"".concat(em,"22"):"transparent",border:"none",borderRadius:"4px",color:e===B?em:eh,fontSize:"0.813rem",cursor:"pointer",textAlign:"left",whiteSpace:"nowrap"},children:[e,"x"]},e))})]}),(0,s.jsx)(I,{onClick:ed,label:"Copy link at current time",isDark:u,children:(0,s.jsx)(z.A,{size:14})}),(0,s.jsx)(I,{onClick:ec,label:"Picture in Picture",isDark:u,children:(0,s.jsx)(E.A,{size:14})}),(0,s.jsx)(I,{onClick:ea,label:_?"Exit fullscreen":"Fullscreen",isDark:u,children:_?(0,s.jsx)(L.A,{size:16}):(0,s.jsx)(T.A,{size:16})})]})]})]}),(0,s.jsx)("style",{children:"\n        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\n      "})]})});function I(e){let{onClick:t,label:r,children:n,isDark:o}=e;return(0,s.jsx)("button",{onClick:t,"aria-label":r,title:r,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"6px",background:"transparent",border:"none",color:"#FFFFFF",cursor:"pointer",transition:"background 0.15s"},onMouseEnter:e=>e.currentTarget.style.background="rgba(255,255,255,0.1)",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:n})}M.displayName="VideoPlayer";var D=r(6874),N=r.n(D),W=r(54416),B=r(47924),P=r(5196),H=r(28833);function O(e){let{course:t,currentLessonSlug:r,progress:o,isDark:l,onClose:i}=e,[a,d]=(0,n.useState)(""),[u,g]=(0,n.useState)(()=>{let e={};return t.chapters.forEach((t,s)=>{let n=t.lessons.some(e=>e.slug===r);e[s]=n||0===s}),e}),m=l?"#00D4AA":"#00A896",p=l?"#FFFFFF":"#1A1A2E",x=l?"rgba(255,255,255,0.55)":"#6C757D",b=l?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.06)",f=l?"rgba(0,212,170,0.06)":"rgba(0,168,150,0.05)",j=l?"rgba(0,212,170,0.12)":"rgba(0,168,150,0.08)",v=(0,n.useMemo)(()=>{if(!a.trim())return t.chapters;let e=a.toLowerCase();return t.chapters.map(t=>({...t,lessons:t.lessons.filter(t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.transcript.some(t=>t.text.toLowerCase().includes(e)))})).filter(e=>e.lessons.length>0)},[t,a]),k=t.chapters.reduce((e,t)=>e+t.lessons.length,0),C=Object.values(o).filter(e=>e.courseSlug===t.slug&&e.completed).length;return(0,s.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:"transparent"},children:[(0,s.jsxs)("div",{style:{padding:"1.25rem 1rem 1rem",borderBottom:"1px solid ".concat(b)},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[(0,s.jsx)("h2",{style:{fontSize:"0.938rem",fontWeight:600,color:p,margin:0,lineHeight:1.3},children:t.title}),i&&(0,s.jsx)("button",{onClick:i,"aria-label":"Close table of contents",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",borderRadius:"6px",background:"transparent",border:"none",color:x,cursor:"pointer"},children:(0,s.jsx)(W.A,{size:16})})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[(0,s.jsx)("div",{style:{flex:1,height:"4px",borderRadius:"2px",backgroundColor:l?"rgba(255,255,255,0.1)":"#E9ECEF"},children:(0,s.jsx)("div",{style:{width:"".concat(k>0?C/k*100:0,"%"),height:"100%",borderRadius:"2px",backgroundColor:m,transition:"width 0.3s ease"}})}),(0,s.jsxs)("span",{style:{fontSize:"0.688rem",color:x,whiteSpace:"nowrap"},children:[C,"/",k]})]}),(0,s.jsxs)("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[(0,s.jsx)(B.A,{size:14,style:{position:"absolute",left:"0.625rem",color:x}}),(0,s.jsx)("input",{type:"text",placeholder:"Search this course…",value:a,onChange:e=>d(e.target.value),style:{width:"100%",padding:"0.5rem 0.5rem 0.5rem 2rem",fontSize:"0.813rem",color:p,backgroundColor:l?"rgba(15, 52, 96, 0.4)":"#FFFFFF",border:"1px solid ".concat(b),borderRadius:"6px",outline:"none"},"aria-label":"Search course lessons"}),a&&(0,s.jsx)("button",{onClick:()=>d(""),style:{position:"absolute",right:"0.5rem",background:"none",border:"none",color:x,cursor:"pointer",display:"flex"},"aria-label":"Clear search",children:(0,s.jsx)(W.A,{size:12})})]})]}),(0,s.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"0.5rem 0"},children:v.map((e,n)=>{var i;let a=null!==(i=u[n])&&void 0!==i&&i;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{onClick:()=>g(e=>({...e,[n]:!e[n]})),style:{display:"flex",alignItems:"center",gap:"0.5rem",width:"100%",padding:"0.625rem 1rem",background:"transparent",border:"none",color:x,fontSize:"0.688rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",cursor:"pointer",textAlign:"left"},"aria-expanded":a,children:[a?(0,s.jsx)(c.A,{size:12}):(0,s.jsx)(h.A,{size:12}),e.title,(0,s.jsxs)("span",{style:{marginLeft:"auto",fontSize:"0.625rem",fontWeight:400},children:[e.lessons.length," lessons"]})]}),a&&e.lessons.map(e=>{let n=e.slug===r,i=o["".concat(t.slug,"/").concat(e.slug)],a=null==i?void 0:i.completed,c=i&&!i.completed&&i.lastWatchedMs>0;return(0,s.jsxs)(N(),{href:"/courses/".concat(t.slug,"/").concat(e.slug),style:{display:"flex",alignItems:"flex-start",gap:"0.625rem",padding:"0.625rem 1rem 0.625rem 1.75rem",textDecoration:"none",backgroundColor:n?j:"transparent",borderLeft:n?"2px solid ".concat(m):"2px solid transparent",transition:"background 0.15s"},onMouseEnter:e=>{n||(e.currentTarget.style.backgroundColor=f)},onMouseLeave:e=>{n||(e.currentTarget.style.backgroundColor="transparent")},children:[(0,s.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"1px",flexShrink:0,backgroundColor:a?m:n?"".concat(m,"33"):"transparent",border:a?"none":"1.5px solid ".concat(n?m:l?"rgba(255,255,255,0.2)":"#CED4DA")},children:a?(0,s.jsx)(P.A,{size:11,color:l?"#0A2540":"#FFFFFF",strokeWidth:3}):n?(0,s.jsx)(H.A,{size:12,color:m}):null}),(0,s.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,s.jsx)("div",{style:{fontSize:"0.813rem",fontWeight:n?600:400,color:n?m:p,lineHeight:1.4,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.title}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.375rem",marginTop:"0.25rem"},children:[(0,s.jsx)(y.A,{size:10,color:x}),(0,s.jsx)("span",{style:{fontSize:"0.688rem",color:x},children:e.durationLabel}),c&&(0,s.jsx)("span",{style:{fontSize:"0.625rem",color:m,backgroundColor:"".concat(m,"15"),padding:"1px 6px",borderRadius:"3px"},children:"In Progress"})]})]})]},e.slug)})]},n)})})]})}var _=r(58832);function V(e){let{segments:t,currentTimeMs:r,onSeek:o,isDark:l}=e,[i,a]=(0,n.useState)(""),[c,d]=(0,n.useState)(!1),u=(0,n.useRef)(null),g=(0,n.useRef)(null),m=(0,n.useRef)(!1),p=(0,n.useRef)(void 0),x=l?"#00D4AA":"#00A896",h=l?"#FFFFFF":"#1A1A2E",b=l?"rgba(255,255,255,0.5)":"#8E9AAF",f=l?"rgba(0,212,170,0.1)":"rgba(0,168,150,0.06)",y=l?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.02)",j=l?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.06)",v=(0,n.useMemo)(()=>{for(let e=t.length-1;e>=0;e--)if(r>=t[e].startMs)return e;return -1},[r,t]),k=(0,n.useMemo)(()=>{if(!i.trim())return t.map((e,t)=>({segment:e,originalIdx:t}));let e=i.toLowerCase();return t.map((e,t)=>({segment:e,originalIdx:t})).filter(t=>{let{segment:r}=t;return r.text.toLowerCase().includes(e)})},[t,i]),C=(0,n.useCallback)(e=>{if(!i.trim())return e;let t=i.toLowerCase(),r=e.toLowerCase().indexOf(t);return -1===r?e:(0,s.jsxs)(s.Fragment,{children:[e.slice(0,r),(0,s.jsx)("mark",{style:{backgroundColor:"".concat(x,"40"),color:"inherit",borderRadius:"2px",padding:"0 1px"},children:e.slice(r,r+i.length)}),e.slice(r+i.length)]})},[i,x]);(0,n.useEffect)(()=>{!(!c||i.trim())&&u.current&&u.current.scrollIntoView({behavior:"smooth",block:"center"})},[v,c,i]),(0,n.useEffect)(()=>{let e=g.current;if(!e)return;let t=()=>{m.current&&(d(!1),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{m.current=!1},2e3))},r=()=>{m.current=!0},s=()=>{m.current=!0};return e.addEventListener("scroll",t),e.addEventListener("wheel",r),e.addEventListener("touchmove",s),()=>{e.removeEventListener("scroll",t),e.removeEventListener("wheel",r),e.removeEventListener("touchmove",s)}},[]);let F=i.trim()?k.length:0;return(0,s.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,s.jsxs)("div",{style:{padding:"0.75rem",borderBottom:"1px solid ".concat(j),display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,s.jsxs)("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[(0,s.jsx)(B.A,{size:14,style:{position:"absolute",left:"0.625rem",color:b}}),(0,s.jsx)("input",{type:"text",placeholder:"Find in transcript…",value:i,onChange:e=>a(e.target.value),style:{width:"100%",padding:"0.5rem 2rem 0.5rem 2rem",fontSize:"0.813rem",color:h,backgroundColor:l?"rgba(15, 52, 96, 0.4)":"#F8F9FA",border:"1px solid ".concat(j),borderRadius:"6px",outline:"none"},"aria-label":"Search transcript"}),i&&(0,s.jsx)("button",{onClick:()=>a(""),style:{position:"absolute",right:"0.5rem",background:"none",border:"none",color:b,cursor:"pointer",display:"flex"},"aria-label":"Clear search",children:(0,s.jsx)(W.A,{size:12})})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.trim()?(0,s.jsxs)("span",{style:{fontSize:"0.688rem",color:b},children:[F," result",1!==F?"s":""]}):(0,s.jsx)("span",{}),(0,s.jsxs)("button",{onClick:()=>d(e=>!e),style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.688rem",color:c?x:b,background:"none",border:"none",cursor:"pointer",padding:"2px 6px",borderRadius:"4px"},"aria-label":c?"Disable auto-scroll":"Enable auto-scroll",children:[(0,s.jsx)(_.A,{size:10}),"Auto-scroll ",c?"on":"off"]})]})]}),(0,s.jsxs)("div",{ref:g,style:{flex:1,overflowY:"auto",padding:"0.5rem 0"},role:"list","aria-label":"Transcript segments",children:[k.map(e=>{let{segment:t,originalIdx:r}=e,n=r===v&&!i.trim();return(0,s.jsxs)("div",{ref:n?u:void 0,role:"listitem",onClick:()=>o(t.startMs),style:{display:"flex",gap:"0.75rem",padding:"0.5rem 0.75rem",cursor:"pointer",backgroundColor:n?f:"transparent",borderLeft:n?"2px solid ".concat(x):"2px solid transparent",transition:"background 0.15s"},onMouseEnter:e=>{n||(e.currentTarget.style.backgroundColor=y)},onMouseLeave:e=>{n||(e.currentTarget.style.backgroundColor="transparent")},children:[(0,s.jsx)("span",{style:{fontSize:"0.688rem",color:n?x:b,fontVariantNumeric:"tabular-nums",flexShrink:0,minWidth:"36px",paddingTop:"2px"},children:function(e){let t=Math.floor(e/1e3),r=Math.floor(t/60);return"".concat(r,":").concat((t%60).toString().padStart(2,"0"))}(t.startMs)}),(0,s.jsx)("span",{style:{fontSize:"0.813rem",color:n?h:l?"rgba(255,255,255,0.8)":"#555",lineHeight:1.6,fontWeight:n?500:400},children:C(t.text)})]},t.id)}),0===k.length&&i.trim()&&(0,s.jsxs)("div",{style:{padding:"2rem 1rem",textAlign:"center",color:b,fontSize:"0.813rem"},children:["No matches found for “",i,"”"]})]})]})}var X=r(33786),U=r(91788),J=r(59099);function Y(e){let t=Math.floor(e/1e3),r=Math.floor(t/60);return"".concat(r,":").concat((t%60).toString().padStart(2,"0"))}let q={link:(0,s.jsx)(X.A,{size:14}),download:(0,s.jsx)(U.A,{size:14}),github:(0,s.jsx)(J.A,{size:14}),paper:(0,s.jsx)(a.A,{size:14})};function $(e){let{commentary:t,onSeek:r,isDark:n}=e,o=n?"#00D4AA":"#00A896",l=n?"#FFFFFF":"#1A1A2E",i=n?"rgba(255,255,255,0.55)":"#6C757D",a=n?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.06)",c=n?"rgba(15, 52, 96, 0.4)":"#F5F6F8",d=n?o:"#00A896",u=n?"rgba(0,212,170,0.05)":"rgba(0,168,150,0.03)",g=e=>e.split(/(\*\*[^*]+\*\*)/g).map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,s.jsx)("strong",{style:{fontWeight:600,color:n?"#FFFFFF":"#333"},children:e.slice(2,-2)},t):e.split(/(`[^`]+`)/g).map((e,r)=>e.startsWith("`")&&e.endsWith("`")?(0,s.jsx)("code",{style:{backgroundColor:c,padding:"1px 4px",borderRadius:"3px",fontSize:"0.75rem",fontFamily:"var(--font-geist-mono), monospace"},children:e.slice(1,-1)},"".concat(t,"-").concat(r)):e));return(0,s.jsxs)("div",{style:{height:"100%",overflowY:"auto",padding:"1rem 0.75rem"},children:[t.timestampRefs.length>0&&(0,s.jsxs)("div",{style:{marginBottom:"1.25rem"},children:[(0,s.jsx)("h4",{style:{fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",color:i,marginBottom:"0.5rem"},children:"Jump to Timestamp"}),(0,s.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.375rem"},children:t.timestampRefs.map((e,t)=>(0,s.jsxs)("button",{onClick:()=>r(e.timeMs),style:{display:"flex",alignItems:"center",gap:"0.375rem",padding:"0.25rem 0.625rem",backgroundColor:n?"rgba(0,212,170,0.08)":"rgba(0,168,150,0.06)",border:"1px solid ".concat(n?"rgba(0,212,170,0.15)":"rgba(0,168,150,0.12)"),borderRadius:"6px",cursor:"pointer",fontSize:"0.75rem",color:o,transition:"all 0.15s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=n?"rgba(0,212,170,0.15)":"rgba(0,168,150,0.1)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=n?"rgba(0,212,170,0.08)":"rgba(0,168,150,0.06)"},"aria-label":"Jump to ".concat(e.label," at ").concat(Y(e.timeMs)),children:[(0,s.jsx)(y.A,{size:10}),(0,s.jsx)("span",{style:{fontVariantNumeric:"tabular-nums"},children:Y(e.timeMs)}),(0,s.jsx)("span",{style:{color:n?"rgba(255,255,255,0.7)":"#666"},children:e.label})]},t))})]}),(0,s.jsx)("div",{children:(e=>{let t=e.split("\n"),r=[],i=0,m=0;for(;i<t.length;){let e=t[i];if(e.trim().startsWith("```")){let e=[];for(i++;i<t.length&&!t[i].trim().startsWith("```");)e.push(t[i]),i++;i++,r.push((0,s.jsx)("pre",{style:{backgroundColor:c,border:"1px solid ".concat(a),borderRadius:"8px",padding:"1rem",margin:"1rem 0",overflowX:"auto",fontSize:"0.813rem",lineHeight:1.6,color:l,fontFamily:"var(--font-geist-mono), monospace"},children:(0,s.jsx)("code",{children:e.join("\n")})},m++));continue}if(e.includes("|")&&e.trim().startsWith("|")){let e=[];for(;i<t.length&&t[i].includes("|")&&t[i].trim().startsWith("|");)e.push(t[i]),i++;let o=e.filter(e=>!e.match(/^\|[\s-:|]+\|$/)).map(e=>e.split("|").filter(e=>e.trim()).map(e=>e.trim()));if(o.length>0){let e=o[0],t=o.slice(1);r.push((0,s.jsx)("div",{style:{overflowX:"auto",margin:"1rem 0"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.813rem"},children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:e.map((e,t)=>(0,s.jsx)("th",{style:{padding:"0.5rem 0.75rem",textAlign:"left",borderBottom:"2px solid ".concat(a),color:l,fontWeight:600},children:e},t))})}),(0,s.jsx)("tbody",{children:t.map((e,t)=>(0,s.jsx)("tr",{children:e.map((e,t)=>(0,s.jsx)("td",{style:{padding:"0.5rem 0.75rem",borderBottom:"1px solid ".concat(a),color:n?"rgba(255,255,255,0.8)":"#555"},children:e},t))},t))})]})},m++))}continue}if(e.startsWith("### ")){r.push((0,s.jsx)("h4",{style:{fontSize:"0.938rem",fontWeight:600,color:l,margin:"1.5rem 0 0.5rem"},children:e.slice(4)},m++)),i++;continue}if(e.startsWith("## ")){r.push((0,s.jsx)("h3",{style:{fontSize:"1.063rem",fontWeight:700,color:l,margin:"1.75rem 0 0.625rem"},children:e.slice(3)},m++)),i++;continue}if(e.startsWith("> ")){let e=[];for(;i<t.length&&t[i].startsWith("> ");)e.push(t[i].slice(2)),i++;r.push((0,s.jsx)("blockquote",{style:{borderLeft:"3px solid ".concat(d),backgroundColor:u,padding:"0.75rem 1rem",margin:"1rem 0",borderRadius:"0 6px 6px 0"},children:e.map((e,t)=>(0,s.jsx)("p",{style:{fontSize:"0.813rem",color:n?"rgba(255,255,255,0.85)":"#444",lineHeight:1.6,margin:t>0?"0.5rem 0 0":0},children:g(e)},t))},m++));continue}if(e.match(/^- /)){let e=[];for(;i<t.length&&t[i].match(/^- /);)e.push(t[i].slice(2)),i++;r.push((0,s.jsx)("ul",{style:{margin:"0.75rem 0",paddingLeft:"1.25rem",listStyleType:"none"},children:e.map((e,t)=>(0,s.jsxs)("li",{style:{fontSize:"0.813rem",color:n?"rgba(255,255,255,0.8)":"#555",lineHeight:1.7,marginBottom:"0.375rem",paddingLeft:"0.5rem",position:"relative"},children:[(0,s.jsx)("span",{style:{position:"absolute",left:"-0.75rem",top:"0.5em",width:"4px",height:"4px",borderRadius:"50%",backgroundColor:o}}),g(e)]},t))},m++));continue}if(e.match(/^\d+\. /)){let e=[];for(;i<t.length&&t[i].match(/^\d+\. /);)e.push(t[i].replace(/^\d+\. /,"")),i++;r.push((0,s.jsx)("ol",{style:{margin:"0.75rem 0",paddingLeft:"1.25rem"},children:e.map((e,t)=>(0,s.jsx)("li",{style:{fontSize:"0.813rem",color:n?"rgba(255,255,255,0.8)":"#555",lineHeight:1.7,marginBottom:"0.375rem"},children:g(e)},t))},m++));continue}if(!e.trim()){i++;continue}r.push((0,s.jsx)("p",{style:{fontSize:"0.813rem",color:n?"rgba(255,255,255,0.8)":"#555",lineHeight:1.7,margin:"0.625rem 0"},children:g(e)},m++)),i++}return r})(t.markdown)}),t.resources.length>0&&(0,s.jsxs)("div",{style:{marginTop:"1.5rem",paddingTop:"1.25rem",borderTop:"1px solid ".concat(a)},children:[(0,s.jsx)("h4",{style:{fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",color:i,marginBottom:"0.75rem"},children:"Resources"}),(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:t.resources.map((e,t)=>(0,s.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.625rem 0.75rem",backgroundColor:n?"rgba(255,255,255,0.03)":"#FAFBFC",border:"1px solid ".concat(a),borderRadius:"8px",textDecoration:"none",transition:"all 0.15s"},onMouseEnter:e=>{e.currentTarget.style.borderColor=o,e.currentTarget.style.backgroundColor=n?"rgba(0,212,170,0.05)":"rgba(0,168,150,0.03)"},onMouseLeave:e=>{e.currentTarget.style.borderColor=a,e.currentTarget.style.backgroundColor=n?"rgba(255,255,255,0.03)":"#FAFBFC"},children:[(0,s.jsx)("div",{style:{color:o,marginTop:"2px"},children:q[e.type]||(0,s.jsx)(X.A,{size:14})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"0.813rem",fontWeight:500,color:l},children:e.title}),e.description&&(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:i,marginTop:"0.125rem"},children:e.description})]})]},t))})]})]})}var G=r(34900),K=r(86916),Q=r(70398);r(2689);let Z="esy-course-progress";function ee(e){let{course:t,lesson:r,chapterTitle:j}=e,v=(0,o.useSearchParams)(),k=(0,n.useRef)(null),[C,F]=(0,n.useState)(!0),[S,w]=(0,n.useState)(!1);(0,n.useEffect)(()=>{"light"===localStorage.getItem("theme-school")&&F(!1),w(!0)},[]),(0,n.useEffect)(()=>{S&&(C?(document.body.style.backgroundColor=K.dl.bg,document.body.className=document.body.className.replace(/\blight\b/g,"").trim(),document.body.className.includes("dark")||(document.body.className+=" dark"),localStorage.setItem("theme-school","dark")):(document.body.style.backgroundColor=Q._.bg,document.body.className=document.body.className.replace(/\bdark\b/g,"").trim(),document.body.className.includes("light")||(document.body.className+=" light"),localStorage.setItem("theme-school","light")),window.dispatchEvent(new Event("themechange")))},[C,S]);let[A,z]=(0,n.useState)(!0),[E,L]=(0,n.useState)(!1),[T,R]=(0,n.useState)(!1),[I,D]=(0,n.useState)(!1),[W,B]=(0,n.useState)(0),[P,H]=(0,n.useState)({}),[_,X]=(0,n.useState)(!1),[U,J]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=()=>{X(window.innerWidth<=768),J(window.innerWidth>768&&window.innerWidth<=1200)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{U&&z(!1)},[U]),(0,n.useEffect)(()=>{H(function(){try{return JSON.parse(localStorage.getItem(Z)||"{}")}catch(e){return{}}}())},[t.slug,r.slug]),(0,n.useEffect)(()=>{let e=v.get("t");if(e){let t=parseInt(e,10);!isNaN(t)&&k.current&&k.current.seekTo(1e3*t)}},[v]);let Y=(0,n.useRef)(0),q=(0,n.useCallback)(e=>{B(e);let s=Date.now();if(s-Y.current<5e3)return;Y.current=s;let n="".concat(t.slug,"/").concat(r.slug),o=e/(r.durationMs||1)>=.9;H(s=>{let l={...s,[n]:{courseSlug:t.slug,lessonSlug:r.slug,lastWatchedMs:e,completed:o,updatedAt:new Date().toISOString()}};return localStorage.setItem(Z,JSON.stringify(l)),l})},[t.slug,r.slug,r.durationMs]),ee=(0,n.useCallback)(e=>{var t;null===(t=k.current)||void 0===t||t.seekTo(e)},[]),{prev:et,next:er}=(0,n.useMemo)(()=>(0,G.gw)(t,r.slug),[t,r.slug]),es=(0,n.useMemo)(()=>{let e=P["".concat(t.slug,"/").concat(r.slug)];return(null==e?void 0:e.lastWatchedMs)||0},[P,t.slug,r.slug]),en=C?"#00D4AA":"#00A896",eo=C?K.dl.bg:"#FFFFFF",el=C?"#05101F":"#F5F6F8",ei=C?"#FFFFFF":"#1A1A2E",ea=C?"rgba(255,255,255,0.5)":"#8E9AAF",ec=C?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.08)",ed="lesson-layout";return E?ed+=" lesson-layout--theater":A||(ed+=" lesson-layout--no-left"),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>F(e=>!e),style:{position:"fixed",bottom:"4.5rem",right:"1.25rem",width:"36px",height:"36px",borderRadius:"50%",backgroundColor:C?"rgba(15, 52, 96, 0.95)":"rgba(255,255,255,0.95)",border:"1px solid ".concat(C?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.08)"),display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:50,boxShadow:C?"0 2px 16px rgba(0,0,0,0.4)":"0 2px 16px rgba(0,0,0,0.1)",backdropFilter:"blur(12px)",transition:"all 0.2s ease"},"aria-label":"Toggle theme",children:C?(0,s.jsx)(l.A,{size:14,color:"#00D4AA"}):(0,s.jsx)(i.A,{size:14,color:"#00A896"})}),_&&T&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"lesson-drawer-overlay",onClick:()=>R(!1)}),(0,s.jsx)("div",{className:"lesson-drawer",style:{backgroundColor:C?"#05101F":"#F5F6F8"},children:(0,s.jsx)(O,{course:t,currentLessonSlug:r.slug,progress:P,isDark:C,onClose:()=>R(!1)})})]}),(0,s.jsxs)("div",{className:ed,style:{backgroundColor:eo},children:[(0,s.jsx)("div",{className:"lesson-toc ".concat(!A||E?"lesson-toc--collapsed":""),style:{borderRight:"1px solid ".concat(ec),backgroundColor:el},children:(0,s.jsx)(O,{course:t,currentLessonSlug:r.slug,progress:P,isDark:C})}),(0,s.jsxs)("div",{className:"lesson-center",style:{backgroundColor:eo},children:[(0,s.jsxs)("div",{style:{maxWidth:"960px",width:"100%",margin:"0 auto",padding:"0.75rem 1rem 0",boxSizing:"border-box",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.813rem",color:ea},children:[(0,s.jsx)(N(),{href:"/",style:{color:ea,textDecoration:"none",transition:"color 0.15s"},children:"Home"}),(0,s.jsx)("span",{style:{opacity:.5},children:"›"}),(0,s.jsx)(N(),{href:"/courses",style:{color:ea,textDecoration:"none",transition:"color 0.15s"},children:"Courses"}),(0,s.jsx)("span",{style:{opacity:.5},children:"›"}),(0,s.jsx)(N(),{href:"/courses/".concat(t.slug),style:{color:ea,textDecoration:"none",transition:"color 0.15s"},children:t.title}),(0,s.jsx)("span",{style:{opacity:.5},children:"›"}),(0,s.jsx)("span",{style:{color:en},children:r.title})]}),(0,s.jsxs)("div",{className:"lesson-video-wrapper",children:[(0,s.jsx)(M,{ref:k,src:r.videoUrl,title:r.title,author:r.author.name,durationLabel:r.durationLabel,publishedAt:r.publishedAt,onTimeUpdate:q,initialTimeMs:es,isDark:C}),(0,s.jsxs)("button",{onClick:()=>D(e=>!e),"aria-expanded":I,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.625rem 0.875rem",marginTop:"0",background:C?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.025)",border:"none",borderRadius:"0 0 12px 12px",cursor:"pointer",transition:"background 0.2s ease",fontFamily:"inherit"},onMouseEnter:e=>e.currentTarget.style.background=C?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.045)",onMouseLeave:e=>e.currentTarget.style.background=C?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.025)",children:[(0,s.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.75rem",fontWeight:500,color:I?en:ea,letterSpacing:"0.02em",transition:"color 0.2s ease"},children:[(0,s.jsx)(a.A,{size:13}),I?"Hide Transcript":"Show Transcript"]}),(0,s.jsx)(c.A,{size:13,color:I?en:ea,style:{transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), color 0.2s ease",transform:I?"rotate(180deg)":"rotate(0deg)"}})]}),(0,s.jsx)("div",{style:{overflow:"hidden",transition:"max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease",maxHeight:I?"600px":"0",opacity:+!!I,borderRadius:"0 0 12px 12px"},children:(0,s.jsx)("div",{style:{maxHeight:"560px",overflowY:"auto",borderTop:"1px solid ".concat(ec)},children:(0,s.jsx)(V,{segments:r.transcript,currentTimeMs:W,onSeek:ee,isDark:C})})})]}),(0,s.jsxs)("div",{className:"lesson-meta",style:{borderBottom:"1px solid ".concat(ec)},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.375rem"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,s.jsx)("button",{className:"lesson-toggle-btn lesson-toggle-mobile",onClick:()=>R(!0),style:{backgroundColor:C?"rgba(255,255,255,0.05)":"#F0F0F0",color:ea,display:"none"},"aria-label":"Open course outline",children:(0,s.jsx)(d.A,{size:16})}),(0,s.jsx)("button",{className:"lesson-toggle-btn lesson-toggle-desktop",onClick:()=>z(e=>!e),style:{backgroundColor:C?"rgba(255,255,255,0.05)":"#F0F0F0",color:ea},"aria-label":A?"Close sidebar":"Open sidebar",children:A?(0,s.jsx)(u.A,{size:16}):(0,s.jsx)(g.A,{size:16})}),(0,s.jsx)("button",{className:"lesson-toggle-btn lesson-toggle-desktop",onClick:()=>L(e=>!e),style:{backgroundColor:C?"rgba(255,255,255,0.05)":"#F0F0F0",color:ea},"aria-label":E?"Exit theater mode":"Theater mode",children:E?(0,s.jsx)(m.A,{size:14}):(0,s.jsx)(p.A,{size:14})})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[et&&(0,s.jsx)(N(),{href:"/courses/".concat(t.slug,"/").concat(et.slug),className:"lesson-toggle-btn",style:{backgroundColor:C?"rgba(255,255,255,0.05)":"#F0F0F0",color:ea,textDecoration:"none"},"aria-label":"Previous lesson: ".concat(et.title),children:(0,s.jsx)(x.A,{size:16})}),er&&(0,s.jsx)(N(),{href:"/courses/".concat(t.slug,"/").concat(er.slug),className:"lesson-toggle-btn",style:{backgroundColor:C?"rgba(255,255,255,0.05)":"#F0F0F0",color:ea,textDecoration:"none"},"aria-label":"Next lesson: ".concat(er.title),children:(0,s.jsx)(h.A,{size:16})})]})]}),(0,s.jsx)("h1",{className:"lesson-title",style:{color:ei},children:r.title}),(0,s.jsxs)("div",{className:"lesson-meta-row",children:[(0,s.jsxs)("div",{className:"lesson-meta-item",style:{color:ea},children:[(0,s.jsx)(b.A,{size:12}),(0,s.jsx)("span",{children:r.author.name})]}),(0,s.jsxs)("div",{className:"lesson-meta-item",style:{color:ea},children:[(0,s.jsx)(f.A,{size:12}),(0,s.jsx)("span",{children:new Date(r.publishedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),(0,s.jsxs)("div",{className:"lesson-meta-item",style:{color:ea},children:[(0,s.jsx)(y.A,{size:12}),(0,s.jsx)("span",{children:r.durationLabel})]}),(0,s.jsx)("div",{className:"lesson-meta-item",style:{color:en,fontSize:"0.688rem",backgroundColor:"".concat(en,"15"),padding:"1px 8px",borderRadius:"4px"},children:j})]})]}),(0,s.jsx)("div",{className:"lesson-commentary-section",children:(0,s.jsx)($,{commentary:r.commentary,onSeek:ee,isDark:C})})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[7480,6874,1271,6916,449,8441,1684,7358],()=>t(17241)),_N_E=e.O()}]);